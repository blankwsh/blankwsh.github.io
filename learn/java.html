<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.9" />
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html,
      body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia('(prefers-color-scheme: dark)').matches
      if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
        document.documentElement.classList.toggle('dark', true)
      }
    </script>
    <title>Java | Goh's blog</title><meta name="description" content="My first VuePress Site">
    <link rel="preload" href="/assets/style-VnSRKoWI.css" as="style"><link rel="stylesheet" href="/assets/style-VnSRKoWI.css">
    <link rel="modulepreload" href="/assets/app-DHHNIcXM.js"><link rel="modulepreload" href="/assets/java.html-B4tgL43O.js">
    <link rel="prefetch" href="/assets/index.html-DP3HTYhM.js" as="script"><link rel="prefetch" href="/assets/htmlCSS.html-Caxmr7AX.js" as="script"><link rel="prefetch" href="/assets/javascript.html-vvWxC0gN.js" as="script"><link rel="prefetch" href="/assets/network.html-BRpu5JAI.js" as="script"><link rel="prefetch" href="/assets/vue-router.html-CrNsNZCI.js" as="script"><link rel="prefetch" href="/assets/vue.html-C475J6Rx.js" as="script"><link rel="prefetch" href="/assets/java.html-kr_i0bh1.js" as="script"><link rel="prefetch" href="/assets/test.html-BO-IdTwb.js" as="script"><link rel="prefetch" href="/assets/404.html-C7xT-neL.js" as="script"><link rel="prefetch" href="/assets/vue-repl-CnBGQUfW.js" as="script"><link rel="prefetch" href="/assets/codemirror-editor-DEwAZGDe.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><img class="logo" src="/image/hero.png" alt="Goh&#39;s blog"><span class="site-name can-hide" aria-hidden="true">Goh&#39;s blog</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide" aria-label="site navigation"><!--[--><div class="navbar-item"><a class="external-link" href="https://github.com/" rel="noopener noreferrer" target="_blank" aria-label="github"><!--[--><!--[--><!--]--> github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://leetcode.cn/" rel="noopener noreferrer" target="_blank" aria-label="leetcode"><!--[--><!--[--><!--]--> leetcode <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items" aria-label="site navigation"><!--[--><div class="navbar-item"><a class="external-link" href="https://github.com/" rel="noopener noreferrer" target="_blank" aria-label="github"><!--[--><!--[--><!--]--> github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://leetcode.cn/" rel="noopener noreferrer" target="_blank" aria-label="leetcode"><!--[--><!--[--><!--]--> leetcode <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active collapsible">Java <span class="down arrow"></span></p><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link route-link-active sidebar-item active" href="/learn/java.html" aria-label="Java"><!--[--><!--[--><!--]--> Java <!--[--><!--]--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="#java-基础" aria-label="Java 基础"><!--[--><!--[--><!--]--> Java 基础 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#数据类型" aria-label="数据类型"><!--[--><!--[--><!--]--> 数据类型 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#运算符" aria-label="运算符"><!--[--><!--[--><!--]--> 运算符 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#java-util-scanner" aria-label="java.util.Scanner"><!--[--><!--[--><!--]--> java.util.Scanner <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#java-util-random" aria-label="java.util.Random"><!--[--><!--[--><!--]--> java.util.Random <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#switch" aria-label="switch"><!--[--><!--[--><!--]--> switch <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#java-lang-reflect-array" aria-label="java.lang.reflect.Array"><!--[--><!--[--><!--]--> java.lang.reflect.Array <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#方法重载-overload" aria-label="方法重载（overload）"><!--[--><!--[--><!--]--> 方法重载（overload） <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#面向对象-oop" aria-label="面向对象（OOP）"><!--[--><!--[--><!--]--> 面向对象（OOP） <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#类-class" aria-label="类（class）"><!--[--><!--[--><!--]--> 类（class） <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#java-lang-string" aria-label="java.lang.String"><!--[--><!--[--><!--]--> java.lang.String <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#static" aria-label="static"><!--[--><!--[--><!--]--> static <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#继承-inheritance" aria-label="继承（inheritance）"><!--[--><!--[--><!--]--> 继承（inheritance） <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#final" aria-label="final"><!--[--><!--[--><!--]--> final <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#多态-polymorphic" aria-label="多态（polymorphic）"><!--[--><!--[--><!--]--> 多态（polymorphic） <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#抽象-abstract" aria-label="抽象（abstract）"><!--[--><!--[--><!--]--> 抽象（abstract） <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#接口-interface" aria-label="接口（interface）"><!--[--><!--[--><!--]--> 接口（interface） <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#内部类-inner-class" aria-label="内部类（inner class）"><!--[--><!--[--><!--]--> 内部类（inner class） <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#枚举-enum" aria-label="枚举（enum）"><!--[--><!--[--><!--]--> 枚举（enum） <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#泛型-generic" aria-label="泛型（generic）"><!--[--><!--[--><!--]--> 泛型（generic） <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#java-lang-object" aria-label="Java.lang.Object"><!--[--><!--[--><!--]--> Java.lang.Object <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#java-util-objects" aria-label="java.util.Objects"><!--[--><!--[--><!--]--> java.util.Objects <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#包装类" aria-label="包装类"><!--[--><!--[--><!--]--> 包装类 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#java-lang-stringbuilder-和-java-lang-stringbuffer" aria-label="java.lang.StringBuilder 和 java.lang.StringBuffer"><!--[--><!--[--><!--]--> java.lang.StringBuilder 和 java.lang.StringBuffer <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#java-util-stringjoiner" aria-label="java.util.StringJoiner"><!--[--><!--[--><!--]--> java.util.StringJoiner <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#java-lang-system" aria-label="java.lang.System"><!--[--><!--[--><!--]--> java.lang.System <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#java-lang-runtime" aria-label="java.lang.Runtime"><!--[--><!--[--><!--]--> java.lang.Runtime <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#java-util-math" aria-label="java.util.Math"><!--[--><!--[--><!--]--> java.util.Math <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#java-math-bigdecimal" aria-label="java.math.BigDecimal"><!--[--><!--[--><!--]--> java.math.BigDecimal <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#java-util-date" aria-label="java.util.Date"><!--[--><!--[--><!--]--> java.util.Date <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#java-text-simpledateformat" aria-label="java.text.SimpleDateFormat"><!--[--><!--[--><!--]--> java.text.SimpleDateFormat <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#java-util-calendar" aria-label="java.util.Calendar"><!--[--><!--[--><!--]--> java.util.Calendar <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#java-time" aria-label="java.time"><!--[--><!--[--><!--]--> java.time <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#java-time-localdate、java-time-localtime-和-java-time-localdatetime" aria-label="java.time.LocalDate、java.time.LocalTime 和 java.time.LocalDateTime"><!--[--><!--[--><!--]--> java.time.LocalDate、java.time.LocalTime 和 java.time.LocalDateTime <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#java-time-zoneid-和-java-time-zoneddatetime" aria-label="java.time.ZoneId 和 java.time.ZonedDateTime"><!--[--><!--[--><!--]--> java.time.ZoneId 和 java.time.ZonedDateTime <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#java-time-instant" aria-label="java.time.Instant"><!--[--><!--[--><!--]--> java.time.Instant <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#java-time-format-datetimeformatter" aria-label="java.time.format.DateTimeFormatter"><!--[--><!--[--><!--]--> java.time.format.DateTimeFormatter <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#java-time-period" aria-label="java.time.Period"><!--[--><!--[--><!--]--> java.time.Period <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#java-time-duration" aria-label="java.time.Duration"><!--[--><!--[--><!--]--> java.time.Duration <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#java-util-arrays" aria-label="java.util.Arrays"><!--[--><!--[--><!--]--> java.util.Arrays <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#lambda-表达式" aria-label="Lambda 表达式"><!--[--><!--[--><!--]--> Lambda 表达式 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#方法引用-method-reference" aria-label="方法引用（method reference）"><!--[--><!--[--><!--]--> 方法引用（method reference） <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#正则表达式-regular-expression" aria-label="正则表达式（regular expression）"><!--[--><!--[--><!--]--> 正则表达式（regular expression） <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#单列集合-java-util-collection" aria-label="单列集合（java.util.Collection）"><!--[--><!--[--><!--]--> 单列集合（java.util.Collection） <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#java-util-list" aria-label="java.util.List"><!--[--><!--[--><!--]--> java.util.List <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#java-util-arraylist" aria-label="java.util.ArrayList"><!--[--><!--[--><!--]--> java.util.ArrayList <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#java-util-linkedlist" aria-label="java.util.LinkedList"><!--[--><!--[--><!--]--> java.util.LinkedList <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#java-util-set" aria-label="java.util.Set"><!--[--><!--[--><!--]--> java.util.Set <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#java-util-hashset" aria-label="java.util.HashSet"><!--[--><!--[--><!--]--> java.util.HashSet <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#java-util-linkedhashset" aria-label="java.util.LinkedHashSet"><!--[--><!--[--><!--]--> java.util.LinkedHashSet <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#java-util-treeset" aria-label="java.util.TreeSet"><!--[--><!--[--><!--]--> java.util.TreeSet <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#并发修改异常-concurrentmodificationexception" aria-label="并发修改异常（ConcurrentModificationException）"><!--[--><!--[--><!--]--> 并发修改异常（ConcurrentModificationException） <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#排序算法" aria-label="排序算法"><!--[--><!--[--><!--]--> 排序算法 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#查找算法" aria-label="查找算法"><!--[--><!--[--><!--]--> 查找算法 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#可变参数" aria-label="可变参数"><!--[--><!--[--><!--]--> 可变参数 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#java-util-collections" aria-label="java.util.Collections"><!--[--><!--[--><!--]--> java.util.Collections <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#双列集合-java-util-map" aria-label="双列集合（java.util.map）"><!--[--><!--[--><!--]--> 双列集合（java.util.map） <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#流-stream" aria-label="流（Stream）"><!--[--><!--[--><!--]--> 流（Stream） <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#异常-exception" aria-label="异常（Exception）"><!--[--><!--[--><!--]--> 异常（Exception） <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#java-io-file" aria-label="java.io.File"><!--[--><!--[--><!--]--> java.io.File <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#字符集-charset" aria-label="字符集（charset）"><!--[--><!--[--><!--]--> 字符集（charset） <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#io-流" aria-label="IO 流"><!--[--><!--[--><!--]--> IO 流 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#特殊文件" aria-label="特殊文件"><!--[--><!--[--><!--]--> 特殊文件 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#多线程" aria-label="多线程"><!--[--><!--[--><!--]--> 多线程 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#网络编程" aria-label="网络编程"><!--[--><!--[--><!--]--> 网络编程 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#junit" aria-label="Junit"><!--[--><!--[--><!--]--> Junit <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#反射-reflection" aria-label="反射（Reflection）"><!--[--><!--[--><!--]--> 反射（Reflection） <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#注解-annotation" aria-label="注解（Annotation）"><!--[--><!--[--><!--]--> 注解（Annotation） <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#动态代理" aria-label="动态代理"><!--[--><!--[--><!--]--> 动态代理 <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">HTML和CSS <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/learn/htmlCSS.html" aria-label="HTML和CSS"><!--[--><!--[--><!--]--> HTML和CSS <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">JavaScript <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/learn/javascript.html" aria-label="Javascript"><!--[--><!--[--><!--]--> Javascript <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Vue3 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/learn/vue.html" aria-label="Vue"><!--[--><!--[--><!--]--> Vue <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Vue-Router4 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/learn/vue-router.html" aria-label="Vue Router"><!--[--><!--[--><!--]--> Vue Router <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">计算机网络 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/learn/network.html" aria-label="计算机网络"><!--[--><!--[--><!--]--> 计算机网络 <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="java" tabindex="-1"><a class="header-anchor" href="#java"><span>Java</span></a></h1><h2 id="java-基础" tabindex="-1"><a class="header-anchor" href="#java-基础"><span>Java 基础</span></a></h2><h3 id="_1-什么是-jdk" tabindex="-1"><a class="header-anchor" href="#_1-什么是-jdk"><span>1. 什么是 JDK</span></a></h3><p>JDK 就是 JAVA 开发者工具包（Java Development Kit），JDK 的长期支持版（LTS，即 long-term support）为 JDK8、JDK11 和 JDK17，可以通过 <code>javac -version</code> 和<code>java -version</code>查看当前环境下的 JDK 版本。</p><p>JDK 由<strong>JRE</strong>（Java Runtime Environment，即 Java 运行环境）和<strong>开发工具</strong>（如 java 和 javac）两部分构成，而 JRE 又由<strong>JVM</strong>（Java Virtual Machine，Java 虚拟机，真正运行程序的位置）和<strong>核心类库</strong>两部分构成。</p><h3 id="_2-java-程序开发的三个步骤是什么" tabindex="-1"><a class="header-anchor" href="#_2-java-程序开发的三个步骤是什么"><span>2. Java 程序开发的三个步骤是什么</span></a></h3><p>Java 程序开发需要经过<strong>编写</strong>、<strong>编译</strong>、<strong>运行</strong>三个步骤，编写的源文件代码为.java 文件，通过 javac 命令将.java 文件编译为.class 字节码文件（在 idea 中这些字节码文件会被存储在 out 文件夹中），最后通过 java 命令运行字节码文件。</p><h3 id="_3-使用-idea-开发-java-程序的步骤是什么" tabindex="-1"><a class="header-anchor" href="#_3-使用-idea-开发-java-程序的步骤是什么"><span>3. 使用 idea 开发 Java 程序的步骤是什么</span></a></h3><p>创建 project、创建 module、创建 package、创建 class。其中，项目名和模块名应当使用全小写，单词间使用<code>-</code>连接；包名应当使用域名的倒置命名；类名应当使用大驼峰命名法命名。</p><h3 id="_4-标识符的命名规则是怎么样的" tabindex="-1"><a class="header-anchor" href="#_4-标识符的命名规则是怎么样的"><span>4. 标识符的命名规则是怎么样的</span></a></h3><p>标识符只能由数字、字母、<code>_</code>和<code>$</code>构成，不能以数字开头，不能使用关键字作为标识符，标识符是大小写敏感的。</p><h3 id="_5-字符类型在计算机中如何存储的" tabindex="-1"><a class="header-anchor" href="#_5-字符类型在计算机中如何存储的"><span>5. 字符类型在计算机中如何存储的</span></a></h3><p>字符在计算机中存储的是字符在 ASCII 码表中对应数字的二进制形式，常用的如<code>A</code>对应 65，<code>a</code>对应 97，<code>0</code>对应 48。</p><h3 id="_6-二进制、八进制和十六进制在-java-中应当如何表示" tabindex="-1"><a class="header-anchor" href="#_6-二进制、八进制和十六进制在-java-中应当如何表示"><span>6. 二进制、八进制和十六进制在 Java 中应当如何表示</span></a></h3><p>在字面量前分别添加<code>0b</code>/<code>0B</code>（二进制）、<code>0</code>（八进制）和<code>0x</code>/<code>0X</code>（十六进制）。</p><h2 id="数据类型" tabindex="-1"><a class="header-anchor" href="#数据类型"><span>数据类型</span></a></h2><h3 id="_1-java-的数据类型是如何分类的" tabindex="-1"><a class="header-anchor" href="#_1-java-的数据类型是如何分类的"><span>1. Java 的数据类型是如何分类的</span></a></h3><p>Java 的数据类型分为<strong>基本数据类型</strong>和<strong>引用数据类型</strong>，其中，基本数据类型可以分为整型、浮点型、字符型（char，2 个字节）和布尔型（boolean，1 个字节），整型又可以分为<code>byte</code>（-127 到 128，1 个字节）、<code>short</code>（三万多，2 个字节）、<code>int</code>（21 亿多，4 个字节）和<code>long</code>（19 位数，8 个字节，字面量以 L 结尾），浮点型可以分为<code>float</code>（4 个字节，字面量以 f 结尾）和<code>double</code>（8 个字节，字面量以 d 结尾，可省略）。</p><h3 id="_2-什么是类型转换" tabindex="-1"><a class="header-anchor" href="#_2-什么是类型转换"><span>2. 什么是类型转换</span></a></h3><p>类型转换是指将一种类型的数据转换为另一种类型的数据的过程，分为<strong>自动类型转换</strong>和<strong>强制类型转换</strong>。自动类型转换发生在小范围的类型转换为大范围的类型，即<code>byte</code>-&gt;<code>short</code>-&gt;<code>int</code>-&gt;<code>long</code>-&gt;<code>float</code>-&gt;<code>double</code>，<code>char</code>-&gt;<code>int</code>-&gt;<code>long</code>-&gt;<code>float</code>-&gt;<code>double</code>。</p><p>表达式中不同类型的变量进行运算也会发生自动类型转换：1. <code>byte</code>、<code>short</code>、<code>char</code>在运算过程中会<strong>自动类型转换</strong>为<code>int</code>；2. 表达式的最终结果类型由<strong>表达式的最高类型</strong>决定。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">byte</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">short</span> b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> c <span class="token operator">=</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>	<span class="token comment">// 注意c不能是short，因为byte和short在运算过程中已经被转换成int了</span>
</code></pre></div><p>强制类型转换则发生在大范围的类型转换为小范围的类型，强制类型转换的语法格式为<code>转换后类型 变量名 = (转换后类型)原变量名;</code>，强制类型转换可能会出现浮点数精度丢失、整型被截断等问题，在转换时应当加以注意。</p><h2 id="运算符" tabindex="-1"><a class="header-anchor" href="#运算符"><span>运算符</span></a></h2><h3 id="_1-运算符注意事项" tabindex="-1"><a class="header-anchor" href="#_1-运算符注意事项"><span>1. 运算符注意事项</span></a></h3><p><code>+</code>除了作加法运算符外，还可以做连接运算符，用于连接字符串；<code>/</code>用于两个整型之间的运算时，其最终结果也为整型；<code>++a</code>表示先自增再运算，<code>a++</code>表示先运算再自增；扩展赋值运算符（<code>+=</code>、<code>-=</code>等）隐含了强制类型转换。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">long</span> b <span class="token operator">=</span> <span class="token number">999999999999999L</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a <span class="token operator">+=</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 输出-1530494977，相当于a = (int)(a + b);</span>
</code></pre></div><p><code>&amp;</code>（逻辑与）在判断时需要同时检测左右两边操作数的真假，而<code>&amp;&amp;</code>短路与则会先检测左边的操作数是否为假，如果为假则直接返回<code>false</code>，性能上短路与要优于逻辑与；<code>^</code>为异或运算符，相异为真，相同为假。</p><h2 id="java-util-scanner" tabindex="-1"><a class="header-anchor" href="#java-util-scanner"><span>java.util.Scanner</span></a></h2><p><code>Scanner</code>是 Java 提供的 API，存放在<code>java.util</code>包下，用于生成一个扫描器。使用 API 时需要使用<code>import java.util.Scanner;</code>将类导入当前包中，并不是所有类都需要导包，<code>java.lang</code>包中提供的类无需导包即可在项目中的任意类中被使用（如<code>String</code>和<code>System</code>）。以下是<code>Scanner</code>类的基本使用方式：</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">// 导包</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Scanner</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 创建扫描类</span>
    <span class="token class-name">Scanner</span> sc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 等待用户输入数据并存储到变量中</span>
    <span class="token keyword">int</span> input <span class="token operator">=</span> sc<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="java-util-random" tabindex="-1"><a class="header-anchor" href="#java-util-random"><span>java.util.Random</span></a></h2><p><code>Random</code>是 Java 提供的 API，存放在<code>java.util</code>包下，用于生成一个随机数。<code>Random</code>实例对象的<code>nextInt()</code>方法接收一个整型参数 n，随机生成[0,n-1]之间的随机数。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Random</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Random</span> rd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> n <span class="token operator">=</span> rd<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 随机生成0-8之间的整数</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_1-如何生成指定范围的随机数" tabindex="-1"><a class="header-anchor" href="#_1-如何生成指定范围的随机数"><span>1. 如何生成指定范围的随机数</span></a></h3><p>如果要生成随机的浮点数，可以使用<code>nextDouble()</code>方法，其他类型的随机数依次类推。如果要生成[m,n]之间的随机数，那么应该使用<code>int x = nextInt(n-m+1) + n;</code>。</p><h2 id="switch" tabindex="-1"><a class="header-anchor" href="#switch"><span>switch</span></a></h2><h3 id="_1-switch-的取值可以是什么" tabindex="-1"><a class="header-anchor" href="#_1-switch-的取值可以是什么"><span>1. switch()的取值可以是什么</span></a></h3><p><code>switch</code>的取值类型可以是<code>byte</code>、<code>short</code>、<code>int</code>、<code>char</code>、<code>enum</code>（JDK5）和<code>String</code>（JDK7），不可以是<code>long</code>、<code>float</code>和<code>double</code>。</p><h3 id="_2-switch-的穿透性" tabindex="-1"><a class="header-anchor" href="#_2-switch-的穿透性"><span>2. switch 的穿透性</span></a></h3><p>通常情况下，每个<code>case</code>都会以<code>break;</code>语句结束，如果省略<code>break;</code>语句，<code>case</code>之间会发生穿透，后续所有<code>case</code>语句都会被执行，直至遇到<code>case</code>语句或者<code>switch</code>结束。</p><h2 id="java-lang-reflect-array" tabindex="-1"><a class="header-anchor" href="#java-lang-reflect-array"><span>java.lang.reflect.Array</span></a></h2><p><code>Array</code>是 Java 提供的 API，由于其在<code>java.lang</code>包中，因此无需导包便可直接使用。数组是一种引用数据类型，因此直接打印数组名会得到数组在内存中的地址值。</p><h3 id="_1-如何创建数组" tabindex="-1"><a class="header-anchor" href="#_1-如何创建数组"><span>1. 如何创建数组</span></a></h3><p>数组的创建方式分为<strong>静态初始化数组</strong>和<strong>动态初始化数组</strong>。静态初始化数组的书写格式为<code>type[] arr = new type[]{1,2,3};</code>，还可以使用简写形式<code>type[] arr = {1,2,3};</code>。动态初始化数组的书写格式为<code>type[] arr = new type[3];</code>，这表示创建一个<code>length</code>为 3 的数组，数组中的每个元素根据数组的类型都会有一个默认值，整型和字符型的默认值为 0，浮点型的默认值为 0.0，布尔值的默认值为 false，引用数据类型的默认值为 null。</p><h3 id="_2-int-a-20-int-arr-new-int-3-这两行代码的执行原理是什么" tabindex="-1"><a class="header-anchor" href="#_2-int-a-20-int-arr-new-int-3-这两行代码的执行原理是什么"><span>2. int a = 20; int[] arr = new int[3]; 这两行代码的执行原理是什么</span></a></h3><p>首先，a 是变量，直接放入栈内存中，20 是基本数据类型，变量 a 存储 20 这个值；</p><p>其次，数组是引用数据类型，在堆内存创建一个长度为 3、类型为整型的数组；</p><p>最后，arr 是变量，直接放入栈内存中，存储的是新创建的数组在堆内存中的地址值。</p><h3 id="_3-多个变量指向同一个数组" tabindex="-1"><a class="header-anchor" href="#_3-多个变量指向同一个数组"><span>3. 多个变量指向同一个数组</span></a></h3><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
arr1 <span class="token operator">=</span> arr<span class="token punctuation">;</span>
arr1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;arr[0]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 10</span>
</code></pre></div><h3 id="_4-nullpointerexception" tabindex="-1"><a class="header-anchor" href="#_4-nullpointerexception"><span>4. NullPointerException</span></a></h3><p>当一个引用数据类型的变量被赋值为<code>null</code>时，此时再访问这个变量原有的属性和方法时，就会抛出空指针异常（NullPointerException）。</p><h2 id="方法重载-overload" tabindex="-1"><a class="header-anchor" href="#方法重载-overload"><span>方法重载（overload）</span></a></h2><h3 id="_1-什么是方法重载" tabindex="-1"><a class="header-anchor" href="#_1-什么是方法重载"><span>1. 什么是方法重载</span></a></h3><p><strong>一个类</strong>中，出现多个<strong>同名</strong>方法，且它们的<strong>参数列表各不相同</strong>，那么这些方法就被称作方法重载。使用方法重载可以减少对繁琐方法名的记忆。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;play&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">play</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;play&quot;</span> <span class="token operator">+</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="面向对象-oop" tabindex="-1"><a class="header-anchor" href="#面向对象-oop"><span>面向对象（OOP）</span></a></h2><h3 id="_1-什么是面向对象编程" tabindex="-1"><a class="header-anchor" href="#_1-什么是面向对象编程"><span>1. 什么是面向对象编程</span></a></h3><p>面向对象编程（Object Oriented Programming）是指设计对象，将数据存储在对象中，通过调用对象上的方法处理数据这一种编程思想。面向对象的三大特征为封装（encapsulation）、继承和多态。面向对象编程符合人类思维习惯，代码的可读性高。</p><h3 id="_2-java-中是怎么实现面向对象编程的" tabindex="-1"><a class="header-anchor" href="#_2-java-中是怎么实现面向对象编程的"><span>2. Java 中是怎么实现面向对象编程的</span></a></h3><p>Java 中通过定义类来实现面向对象编程，类中的成员变量表示对象的属性，类中的成员方法表示对象的行为，通过类来创建一个又一个的对象用以存储数据和操作数据。在一个<code>.java</code>文件中可以定义多个类，但只有一个类的权限修饰符可以是<code>public</code>的，且被<code>public</code>修饰的类的名字必须和<code>.java</code>的文件名保持一致。</p><h2 id="类-class" tabindex="-1"><a class="header-anchor" href="#类-class"><span>类（class）</span></a></h2><h3 id="_1-什么是-this" tabindex="-1"><a class="header-anchor" href="#_1-什么是-this"><span>1. 什么是 this</span></a></h3><p><code>this</code>是一个变量，可以在非静态方法中使用，用于获取当前的实例对象。使用<code>this</code>可以解决命名冲突的问题，如下所示：</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Student</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    s<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token punctuation">{</span>
  <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token string">&quot;goh&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token string">&quot;wu&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// wu</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// goh</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-什么是构造器" tabindex="-1"><a class="header-anchor" href="#_2-什么是构造器"><span>2. 什么是构造器</span></a></h3><p>构造器（constructor）是类的五大组成部分之一，它是一种特殊方法，名字要与类名保持一致，特别的，构造器没有返回值，创建对象时就会自动调用相应类的构造器，完成对成员变量的初始赋值。如果没有显式声明构造器，Java 会隐式地生成一个无参构造器，相应的，如果存在其他构造器，那么 Java 就不会隐式生成无参构造器。</p><h3 id="_3-什么是实体类-javabean" tabindex="-1"><a class="header-anchor" href="#_3-什么是实体类-javabean"><span>3. 什么是实体类（JavaBean）</span></a></h3><p>实体类是一种特殊格式的类，它有这些要求：1. 私有成员变量；2. 必须拥有无参构造器；3. 推荐拥有满参构造器；4. 提供 get/set 方法。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-成员变量和局部变量有什么区别" tabindex="-1"><a class="header-anchor" href="#_4-成员变量和局部变量有什么区别"><span>4. 成员变量和局部变量有什么区别</span></a></h3><p>五个方面：定义的位置、是否有默认值、内存位置、作用域、生命周期</p><p>成员变量是定义在类中、方法之外的变量，局部变量通常是定义在方法之中的变量；成员变量有默认值，局部变量没有显式赋值之前不可以被访问；成员变量存放在堆内存中，局部变量存放在栈内存中；成员变量在整个类中可以被访问，局部变量只可以在当前大括号中被访问；成员变量随着对象的销毁而销毁，局部变量随着方法调用结束而销毁。</p><h2 id="java-lang-string" tabindex="-1"><a class="header-anchor" href="#java-lang-string"><span>java.lang.String</span></a></h2><p><code>String</code>是<strong>不可变对象</strong>，对<code>String</code>的各种修改实际上都是在内存空间中开辟一片新空间存储新的字符串。</p><h3 id="_1-如何创建一个字符串" tabindex="-1"><a class="header-anchor" href="#_1-如何创建一个字符串"><span>1. 如何创建一个字符串</span></a></h3><p>字符串的创建方式有两种，分别是使用字面量和调用<code>String</code>类的构造器构造，<code>String</code>类的构造器有四种形式，分别是无参构造器、参数为<code>String</code>的构造器、参数为<code>char[]</code>的构造器和参数为<code>byte[]</code>的构造器。使用字面量创建的字符串会被存储在堆内存（不一定，视项目使用的 JDK 版本而定）中的<strong>字符串常量池</strong>中，每次使用字面量创建字符串时都会检测常量池中是否存在相同的字符串，有则直接引用该字符串对应的地址。使用构造器创建的字符串无论创建的字符串值是否在堆内存中已经存在，都会<strong>开辟一片新的存储空间存储</strong>。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">String</span> s1 <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> s2 <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
s1 <span class="token operator">==</span> s2<span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token class-name">String</span> s3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s1 <span class="token operator">==</span> s3<span class="token punctuation">;</span> <span class="token comment">// false，地址值不同</span>
</code></pre></div><h3 id="_2-字符串的常用方法" tabindex="-1"><a class="header-anchor" href="#_2-字符串的常用方法"><span>2. 字符串的常用方法</span></a></h3><table><thead><tr><th style="text-align:left;">方法名</th><th>说明</th></tr></thead><tbody><tr><td style="text-align:left;">public int length()</td><td>返回字符串的长度</td></tr><tr><td style="text-align:left;">public char charAt(int index)</td><td>返回索引为 index 对应的字符</td></tr><tr><td style="text-align:left;">public char[] toCharArray()</td><td>返回字符串对应的字符数组</td></tr><tr><td style="text-align:left;">public boolean equals(Object obj)</td><td>判断当前字符串的值与参数的值是否相同</td></tr><tr><td style="text-align:left;">public boolean equalsIgnoreCase(String str)</td><td>同上，但忽略大小写</td></tr><tr><td style="text-align:left;">public String substring(int beginIndex, int endIndex)</td><td>返回截取的字符串，左闭右开，参数 2 可省略，表示截取到最后一个字符</td></tr><tr><td style="text-align:left;">public String replace(CharSequence target, CharSequence replacement)</td><td>将字符串中出现的所有目标字符串都替换为新的字符串</td></tr><tr><td style="text-align:left;">public boolean contains(CharSequence str)</td><td>判断字符串中是否含有某个字符串</td></tr><tr><td style="text-align:left;">public boolean startsWith(CharSequence prefix)</td><td>判断字符串是否以某个字符串开头</td></tr><tr><td style="text-align:left;">public String[] split(String regex)</td><td>根据某个字符串将原字符串分割为字符串数组</td></tr><tr><td style="text-align:left;">valueOf</td><td></td></tr></tbody></table><h3 id="_3-两道题目" tabindex="-1"><a class="header-anchor" href="#_3-两道题目"><span>3. 两道题目</span></a></h3><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">// 下列语句分别创建了几个对象</span>
<span class="token class-name">String</span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 2个，一个是字符串常量池中的&quot;123&quot;，一个是堆内存中的new String(&quot;123&quot;)</span>
<span class="token class-name">String</span> s2 <span class="token operator">=</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">;</span>	<span class="token comment">// 0个，因为上一个语句已经在字符串常量池中创建了&quot;123&quot;了，直接引用地址就行了</span>
</code></pre></div><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test01</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> s1 <span class="token operator">=</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">;</span>
		<span class="token class-name">String</span> s2 <span class="token operator">=</span> <span class="token string">&quot;ab&quot;</span><span class="token punctuation">;</span>
		<span class="token class-name">String</span> s3 <span class="token operator">=</span> s2 <span class="token operator">+</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">;</span>
		s1 <span class="token operator">==</span> s3<span class="token punctuation">;</span>	<span class="token comment">// false，s2 + &quot;c&quot;相当于new了一个新String，内存地址不一致</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test02</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> s1 <span class="token operator">=</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">;</span>
		<span class="token class-name">String</span> s2 <span class="token operator">=</span> <span class="token string">&quot;a&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;b&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;c&quot;</span>
		s1 <span class="token operator">==</span> s2<span class="token punctuation">;</span>	<span class="token comment">// true，Java的编译优化，&quot;a&quot; + &quot;b&quot; + &quot;c&quot;会被直接转换为&quot;abc&quot;，提高程序的执行性能</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test03</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> s1 <span class="token operator">=</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">;</span>
    s1 <span class="token operator">+=</span> <span class="token string">&quot;d&quot;</span><span class="token punctuation">;</span>	<span class="token comment">// 等价于s1 = new String(s1 + &quot;d&quot;);</span>
    <span class="token comment">// 注意这里创建了两个对象，字符串常量池会出现&quot;abcd&quot;（由s1 + &quot;d&quot;产生），堆内存(常量池之外)也会出现&quot;abcd&quot;（由new产生）</span>
    <span class="token class-name">String</span> s2 <span class="token operator">=</span> <span class="token string">&quot;abcd&quot;</span><span class="token punctuation">;</span>
    s1 <span class="token operator">==</span> s2<span class="token punctuation">;</span>	<span class="token comment">// false，比较的是堆内存(常量池之外)和字符串常量池中的&quot;abcd&quot;的地址</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="static" tabindex="-1"><a class="header-anchor" href="#static"><span>static</span></a></h2><h3 id="_1-什么是-static" tabindex="-1"><a class="header-anchor" href="#_1-什么是-static"><span>1. 什么是 static</span></a></h3><p><code>static</code>是静态修饰符，用于修饰成员变量和成员方法。被 static 修饰的成员被称为<strong>静态成员</strong>，反之为<strong>非静态成员</strong>。静态成员变量在类加载时同步加载，只会在内存中<strong>存储一份</strong>，被类的所有对象共享，非静态成员变量在对象被创建时才会出现在内存中，创建多少个对象就会在内存中存储多少份对象。</p><h3 id="_2-如何访问-static-修饰的成员" tabindex="-1"><a class="header-anchor" href="#_2-如何访问-static-修饰的成员"><span>2. 如何访问 static 修饰的成员</span></a></h3><p>对于静态成员变量，使用<code>类名.成员变量名</code>进行访问，也可以使用<code>对象名.成员变量名</code>进行访问，后者应尽量避免，原因有：1. 需要创建一个对象才能进行访问，占用内存；2. 书写不方便，IDE 不友好。</p><p>对于静态成员方法，只需要在使用静态成员变量的基础上增加()进行调用即可。</p><h3 id="_3-static-有什么应用场景" tabindex="-1"><a class="header-anchor" href="#_3-static-有什么应用场景"><span>3. static 有什么应用场景</span></a></h3><p>对于静态成员变量，因为<code>static</code>修饰的变量只会在类加载时在内存中加载一份，因此，当某个数据在开发过程中<strong>只需要一份</strong>，且这份数据需要<strong>被共享</strong>时，可以使用<code>static</code>对该变量进行修饰。常见的应用场景有直播间人数。</p><p>对于静态成员方法，常见的应用场景为创建工具类。工具类的类名通常以 Utils 结尾，书写工具类需要注意：1. 工具类的<strong>构造器应当私有化</strong>；2. 工具类的成员<strong>方法应当使用 static 修饰</strong>。使用工具类可以提高代码复用率，无需创建对象即可调用工具类中的方法。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ArrayUtils</span> <span class="token punctuation">{</span>
  <span class="token comment">// 私有化构造器</span>
  <span class="token keyword">private</span> <span class="token class-name">ArrayUtils</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token comment">// 使用静态成员方法</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">getArraySum</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      sum <span class="token operator">+=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 使用工具类</span>
<span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> age <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">ArrayUtils</span><span class="token punctuation">.</span><span class="token function">getArraySum</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_4-静态方法的注意事项" tabindex="-1"><a class="header-anchor" href="#_4-静态方法的注意事项"><span>4. 静态方法的注意事项</span></a></h3><p>静态方法的方法体可以直接访问类的静态成员，不可以访问类的非静态成员；非静态方法的方法体既可以访问类的静态成员，也可以访问类的非静态成员；静态方法的方法体没有<code>this</code>关键字。</p><h3 id="_5-什么是代码块" tabindex="-1"><a class="header-anchor" href="#_5-什么是代码块"><span>5. 什么是代码块</span></a></h3><p>类的五大组成部分分别是：成员变量、构造器、成员方法、代码块和内部类。其中，代码块用于<strong>为成员变量赋默认值</strong>，分为实例代码块和静态代码块，实例代码块使用<code>{}</code>进行包裹，静态代码块使用<code>static {}</code>进行包裹。与静态成员变量相似，静态代码块也是在类加载时自动执行（<strong>只执行一次</strong>），而实例代码块则是在每次创建对象时被调用，且在<strong>构造器之前</strong>执行。</p><h3 id="_6-什么是单例设计模式" tabindex="-1"><a class="header-anchor" href="#_6-什么是单例设计模式"><span>6. 什么是单例设计模式</span></a></h3><p>设计模式是指解决问题的最优解，单例设计模式是指在该设计模式下，<strong>一个类有且仅有一个实例</strong>。单例设计模式的实现方式有<strong>饿汉式单例设计模式</strong>和<strong>懒汉式单例设计模式</strong>，饿汉式是指对象在类加载时就创建完毕了，懒汉式是指当使用对象时才开始创建对象。通常情况下选用饿汉式，因为饿汉式书写简单。单例设计模式常用于任务对象管理器和音乐播放器。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">// 饿汉式</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AudioPlayer</span> <span class="token punctuation">{</span>
  <span class="token comment">// 使用静态修饰符确保实例共享，创建一个AudioPlayer对象</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">AudioPlayer</span> ap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AudioPlayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 私有化构造器，防止用户创建新对象</span>
  <span class="token keyword">private</span> <span class="token class-name">AudioPlayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token comment">// 创建一个静态成员方法用于获取该实例对象</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">AudioPlayer</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> ap<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 获取AudioPlayer实例</span>
<span class="token class-name">AudioPlayer</span> ap <span class="token operator">=</span> <span class="token class-name">AudioPlayer</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">// 懒汉式</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AudioPlayer</span> <span class="token punctuation">{</span>
  <span class="token comment">// 使用静态修饰符确保实例共享，但不创建AudioPlayer对象</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">AudioPlayer</span> ap<span class="token punctuation">;</span>
  <span class="token comment">// 私有化构造器，防止用户创建新对象</span>
  <span class="token keyword">private</span> <span class="token class-name">AudioPlayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token comment">// 创建一个静态成员方法用于创建并获取该实例对象</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">AudioPlayer</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>ap <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      ap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AudioPlayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> ap<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="继承-inheritance" tabindex="-1"><a class="header-anchor" href="#继承-inheritance"><span>继承（inheritance）</span></a></h2><h3 id="_1-什么是继承" tabindex="-1"><a class="header-anchor" href="#_1-什么是继承"><span>1. 什么是继承</span></a></h3><p>继承是指通过使用<code>extends</code>关键字让两个在逻辑上具有父子关系的类建立起代码层面上的父子关系。在书写代码时，可以将子类共有的成员提升到父类中，再在子类中书写独有的成员。子类会继承父类中的非私有成员，私有成员需要通过 get/set 进行访问。继承可以有效降低代码冗余，提高代码的复用性，有利于功能的扩展。</p><h3 id="_2-什么是权限修饰符" tabindex="-1"><a class="header-anchor" href="#_2-什么是权限修饰符"><span>2. 什么是权限修饰符</span></a></h3><p>权限修饰符可以用来<strong>限制类中的成员能够被访问的范围</strong>。权限修饰符有四种，分别是<code>private</code>、缺省（default）、<code>protected</code>和<code>public</code>。<code>private</code>修饰的成员只能在<strong>当前类</strong>中被访问，缺省权限修饰符的成员可以被<strong>同一个包的类</strong>访问，<code>protected</code>修饰的成员可以被处于<strong>同一继承链上的类</strong>访问，<code>public</code>修饰的成员则可以在<strong>任意类</strong>中被访问。</p><h3 id="_3-为什么-java-的类不支持多继承" tabindex="-1"><a class="header-anchor" href="#_3-为什么-java-的类不支持多继承"><span>3. 为什么 Java 的类不支持多继承</span></a></h3><p>当类 A 同时拥有两个父类 B 和 C 时，此时如果类 B 和类 C 拥有同名方法 sayHello，此时类 A 调用 sayHello 方法时，就会出现指向混乱的情况，因此 Java 的类不支持多继承。</p><h3 id="_4-所有继承链的起点" tabindex="-1"><a class="header-anchor" href="#_4-所有继承链的起点"><span>4. 所有继承链的起点</span></a></h3><p><code>Object</code>类是 Java 所有类的祖先，当一个类没有显示地声明其父类，Java 会隐式地将<code>Object</code>类作为其父类，因此所有类都可以访问到<code>Object</code>类上的成员方法。</p><h3 id="_5-什么是方法重写-override" tabindex="-1"><a class="header-anchor" href="#_5-什么是方法重写-override"><span>5. 什么是方法重写（override）</span></a></h3><p>方法重写是指在<strong>一条继承链</strong>中，子类重写父类的一个<strong>同名</strong>方法，其<strong>参数列表与父类的同名方法保持一致</strong>。此外，<strong>子类的权限修饰符的权限范围应该大于等于父类的</strong>；<strong>父类的返回值类型应当与子类的保持一致</strong>，特别的，如果父类的返回值类型为引用数据类型，那么子类的返回值类型还可以是<strong>父类返回值类型的子类</strong>。此外，<strong>私有方法和静态方法不可被重写</strong>。大部分情况下，我们会重写<code>Object</code>类中的<code>toString</code>方法。在 idea 中，可以通过<code>@override</code>注解对方法重写是否正确进行判断。</p><h3 id="_6-子类访问其他成员的特点" tabindex="-1"><a class="header-anchor" href="#_6-子类访问其他成员的特点"><span>6. 子类访问其他成员的特点</span></a></h3><p>子类访问其他成员时，遵循<strong>就近原则</strong>，先在子类局部范围内查找，再在子类成员范围内查找，最后在父类成员范围内查找。子类想要访问父类的同名成员，可以通过<code>super.成员名</code>进行访问。注意，这里的父类指的是子类的<strong>所有父类</strong>，如果在直接父类中查找失败，则会沿着继承链持续查找，直至<code>Object</code>类。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Child</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    c<span class="token punctuation">.</span><span class="token function">introduce</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// Grand</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Grand</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">introduce</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Grand&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Parent</span> <span class="token keyword">extends</span> <span class="token class-name">Grand</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Child</span> <span class="token keyword">extends</span> <span class="token class-name">Parent</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">introduce</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">introduce</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_7-子类构造器的特点" tabindex="-1"><a class="header-anchor" href="#_7-子类构造器的特点"><span>7. 子类构造器的特点</span></a></h3><p>默认情况下，子类构造器的第一行代码都隐式地存在<code>super()</code>，用于调用父类的<strong>无参</strong>构造器，如果父类中不存在无参构造器，那么子类构造器需要显式地书写<code>super()</code>调用父类中的含参构造器。<code>super()</code> <strong>能且仅能</strong>书写在构造器的第一行，因此父类构造器一定在子类构造器<strong>之前</strong>被执行。（子类是在父类的基础上进行扩展的，因此需要先调用父类构造器）</p><h3 id="_8-如何在构造器中调用同类的其他构造器" tabindex="-1"><a class="header-anchor" href="#_8-如何在构造器中调用同类的其他构造器"><span>8. 如何在构造器中调用同类的其他构造器</span></a></h3><p>可以通过<code>this()</code>在构造器中调用同类的其他构造器，与<code>super()</code>一样，<code>this()</code> <strong>能且仅能</strong>书写在构造器的第一行，也就是说，一个构造器中不能同时出现<code>this()</code>和<code>super()</code>，<code>this()</code>的使用场景如下：</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">String</span> schoolName<span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token class-name">Student</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> <span class="token string">&quot;JNU&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token class-name">Student</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> schoolName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>schoolName <span class="token operator">=</span> schoolName<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="final" tabindex="-1"><a class="header-anchor" href="#final"><span>final</span></a></h2><h3 id="_1-什么是-final" tabindex="-1"><a class="header-anchor" href="#_1-什么是-final"><span>1. 什么是 final</span></a></h3><p><code>final</code>是最终修饰符，可以用来修饰类、方法和变量。修饰类时，表示<strong>类不可以被继承</strong>，典型的<code>final</code>类有<code>String</code>类；修饰方法时，表示<strong>方法不可以被重写</strong>；修饰变量时，表示<strong>变量只能被赋值一次</strong>，需要注意的是，如果修饰的变量为引用数据类型时，变量的<strong>地址</strong>不可以被多次赋值，而变量的属性是不受影响的。</p><h3 id="_2-什么是常量" tabindex="-1"><a class="header-anchor" href="#_2-什么是常量"><span>2. 什么是常量</span></a></h3><p>使用了<code>static final</code>修饰的成员变量被称为常量，常量的书写规范为全大写，单词间使用<code>_</code>连接。使用常量可以提高程序的可读性和可维护性。程序编译时，常量会被替换为相应的字面量，因此常量的性能和字面量是一致的。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Math</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">double</span> <span class="token constant">PI_MATH</span> <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="多态-polymorphic" tabindex="-1"><a class="header-anchor" href="#多态-polymorphic"><span>多态（polymorphic）</span></a></h2><h3 id="_1-什么是多态" tabindex="-1"><a class="header-anchor" href="#_1-什么是多态"><span>1. 什么是多态</span></a></h3><p>多态是指一种事物的多种形态。在 Java 中，多态表现为对象的多态和行为的多态，使用。实现多态需要确保：1. 存在<strong>继承或实现</strong>关系；2. 存在<strong>父类引用子类对象</strong> ，<code>父类 对象名 = new 子类();</code>（即对象的多态）；3. 存在<strong>方法重写</strong>（即方法的多态）。注意，成员变量<strong>不具有</strong>多态性。通过使用多态，方法的形式参数的类型可以设置为父类，其可以接受一切子类对象，提高了程序的可扩展性和可维护性。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Animal</span> a1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Animal</span> a2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">goEat</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// cat eat</span>
    <span class="token function">goEat</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// dog eat</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a1<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// animal，成员变量没有多态</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a2<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// animal</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">goEat</span><span class="token punctuation">(</span><span class="token class-name">Animal</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    a<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token string">&quot;animal&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;animal eat&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Cat</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>
  <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token string">&quot;cat&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;cat eats&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token string">&quot;dog&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;dog eats&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-多态存在什么弊端" tabindex="-1"><a class="header-anchor" href="#_2-多态存在什么弊端"><span>2. 多态存在什么弊端</span></a></h3><p>通过多态产生的对象<strong>不可以直接使用子类的特有方法</strong>，需要使用<strong>强制类型转换</strong>将该对象的类型转换为子类才可以使用。在强制类型转换的过程中，可能会出现强制类型转换后的类型与实际类型不同的情况，因此在强制类型转换后最好使用<code>instanceof</code>运算符进行类型判断，如下所示：</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Parent</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Parent</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    p1<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// child eats</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>p2 <span class="token keyword">instanceof</span> <span class="token class-name">Child</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">Child</span> c1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Child</span><span class="token punctuation">)</span>p2<span class="token punctuation">;</span>
      c1<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// child plays</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ClassCastException&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Parent</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;parent eats&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Child</span> <span class="token keyword">extends</span> <span class="token class-name">Parent</span><span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;child eats&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;child plays&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="抽象-abstract" tabindex="-1"><a class="header-anchor" href="#抽象-abstract"><span>抽象（abstract）</span></a></h2><h3 id="_1-什么是抽象方法和抽象类" tabindex="-1"><a class="header-anchor" href="#_1-什么是抽象方法和抽象类"><span>1. 什么是抽象方法和抽象类</span></a></h3><p>抽象方法是指没有方法体的方法，使用<code>abstract</code>关键字表示。当父类知道所有子类都要实现某一方法，但是每个子类的实现方式不一样时，就可以将该方法定义为抽象方法。抽象方法<strong>必须在抽象类中定义</strong>，抽象类<strong>不能用于创建对象</strong>，只能被子类继承，继承的子类<strong>必须重写父类中的所有抽象方法</strong>，否则子类仍然需要被定义成抽象类。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Animal</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    a<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;dog eats&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-什么是模板方法设计模式" tabindex="-1"><a class="header-anchor" href="#_2-什么是模板方法设计模式"><span>2. 什么是模板方法设计模式</span></a></h3><p>模板方法设计模式是抽象类的常见实现场景，该设计模式意在减少程序中的代码冗余。基本思路为：1. 创建一个抽象类，抽象类中的方法分为<strong>模板方法</strong>和<strong>抽象方法</strong>，模板方法用于执行子类共同的步骤，抽象方法的具体实现交给子类；2. 创建子类继承该抽象类，并重写抽象类中的抽象方法。特别注意的是，模板方法通常是已经确定的步骤，我们不希望子类重写模板方法，因此我们通常使用<code>final</code>修饰符防止其被重写。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Junior</span> j <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Junior</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Senior</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Senior</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    j<span class="token punctuation">.</span><span class="token function">doHomework</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    s<span class="token punctuation">.</span><span class="token function">doHomework</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token punctuation">{</span>
  <span class="token comment">// 注意final</span>
  <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">void</span> <span class="token function">doHomework</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;do math homework&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;do Chinese homework&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;do English homework&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">doOther</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">doOther</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Junior</span> <span class="token keyword">extends</span> <span class="token class-name">Student</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doOther</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;play&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Senior</span> <span class="token keyword">extends</span> <span class="token class-name">Student</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doOther</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;sleep&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-abstract-修饰符不可以与什么修饰符同时使用" tabindex="-1"><a class="header-anchor" href="#_3-abstract-修饰符不可以与什么修饰符同时使用"><span>3. abstract 修饰符不可以与什么修饰符同时使用</span></a></h3><p>使用<code>abstract</code>修饰符修饰的方法都是强制要求重写的，因此任何阻止方法重写的修饰符都不能与<code>abstract</code>修饰符同时使用，如<code>final</code>、<code>private</code>和<code>static</code>。</p><h2 id="接口-interface" tabindex="-1"><a class="header-anchor" href="#接口-interface"><span>接口（interface）</span></a></h2><h3 id="_1-什么是接口" tabindex="-1"><a class="header-anchor" href="#_1-什么是接口"><span>1. 什么是接口</span></a></h3><p>接口是一种特殊的结构，由<code>interface</code>关键字创建，接口内部可以书写<strong>常量</strong>和<strong>抽象方法</strong>，其中，常量默认自带<code>public static final</code>修饰符，抽象方法默认自带<code>public abstract</code>修饰符。接口不能直接创建对象，接口是通过类来实现（<code>implements</code>）的，实现接口的类被称作实现类。一个类可以实现多个接口，实现类<strong>必须重写</strong>接口中的所有抽象方法，否则该实现类需定义为抽象类。使用接口主要有两个优点：1. 弥补了 Java 类单继承的不足，一个类可以同时实现多个接口；2. 面向接口编程的方式提高了程序的可读性和可维护性。</p><h3 id="_2-jdk8-后接口内容的扩展" tabindex="-1"><a class="header-anchor" href="#_2-jdk8-后接口内容的扩展"><span>2. JDK8 后接口内容的扩展</span></a></h3><p>JDK8 之前接口中只可以书写常量和抽象方法，JDK8 新增了<strong>默认方法</strong>和<strong>静态方法</strong>，JDK9 新增了<strong>私有方法</strong>，默认方法和静态方法默认被<code>public</code>修饰符修饰。三种新增的方法增加了接口的可扩展性和可维护性。（JDK8 之前每次往接口中添加新的抽象方法就需要对该接口的所有实现类进行重写，操作十分繁琐）</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">interface</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
  <span class="token comment">// 常量，自带public static final修饰符</span>
  <span class="token keyword">double</span> <span class="token constant">PI</span> <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span>
  <span class="token comment">// 抽象方法，自带public abstract修饰符</span>
  <span class="token keyword">double</span> <span class="token function">getArea</span><span class="token punctuation">(</span><span class="token keyword">double</span> r<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 默认方法，自带public修饰符</span>
  <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token comment">// 静态方法，自带public修饰符</span>
  <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token comment">// 私有方法，私有方法只能在当前接口中被调用</span>
  <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">test03</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Triangle</span> <span class="token keyword">implements</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getArea</span><span class="token punctuation">(</span><span class="token keyword">double</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">A</span><span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> r <span class="token operator">*</span> r<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span><span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">Triangle</span> t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Triangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">getArea</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			t<span class="token punctuation">.</span><span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 默认方法需要通过实现类的实例调用</span>
			<span class="token class-name">A</span><span class="token punctuation">.</span><span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 静态方法直接通过接口调用</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-接口的注意事项" tabindex="-1"><a class="header-anchor" href="#_3-接口的注意事项"><span>3. 接口的注意事项</span></a></h3><p>接口是可以多继承的；一个类如果既继承了类又实现了接口，书写格式应当是<code>class A extends B implements C,D{}</code>，如果父类 B 和接口 C 中存在同名方法，实现类 A 的实例调用该同名方法时<strong>优先调用父类的同名方法</strong>；如果接口 C 和接口 D 中存在同名方法，则需要在实现类 A 中<strong>重写</strong>该方法解决冲突。</p><h2 id="内部类-inner-class" tabindex="-1"><a class="header-anchor" href="#内部类-inner-class"><span>内部类（inner class）</span></a></h2><h3 id="_1-什么是内部类" tabindex="-1"><a class="header-anchor" href="#_1-什么是内部类"><span>1. 什么是内部类</span></a></h3><p>内部类是类的五大组成部分之一，如果一个类定义在另一个类内部，那么这个类就称为内部类。内部类可以分为<strong>成员内部类</strong>、<strong>静态内部类</strong>、<strong>局部内部类</strong>和<strong>匿名内部类</strong>。</p><h3 id="_2-什么是成员内部类" tabindex="-1"><a class="header-anchor" href="#_2-什么是成员内部类"><span>2. 什么是成员内部类</span></a></h3><p>成员内部类是指定义在另一个类中、方法之外的内部类，<strong>成员内部类可以访问到外部类的所有成员</strong>。创建成员内部类对象的方法：1. <code>外部类名.内部类名 对象名 = new 外部类名.new 内部类名();</code>这种创建模式的缺点是无法获取到外部类对象，不能操作在外部类之外操作外部类的成员；2. <code>外部类名 对象名1 = new 外部类名(); 外部类名.内部类名 对象名2 = 对象名1.new 内部类名();</code>。如果需要在成员内部类的方法中访问当前外部类对象，可以通过<code>外部类名.this</code>进行访问。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 注意成员内部类的创建方式</span>
    <span class="token class-name">Body</span> body <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Body</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Body<span class="token punctuation">.</span>Heart</span> heart <span class="token operator">=</span> body<span class="token punctuation">.</span><span class="token keyword">new</span> <span class="token class-name">Heart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 使用方式2创建可以操作外部类的成员</span>
    heart<span class="token punctuation">.</span><span class="token function">jump</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    body<span class="token punctuation">.</span><span class="token function">setIsAlive</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    heart<span class="token punctuation">.</span><span class="token function">jump</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Body</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token keyword">boolean</span> isAlive<span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token class-name">Body</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token class-name">Body</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> isAlive<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>isAlive <span class="token operator">=</span> isAlive<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">void</span> <span class="token function">setIsAlive</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> isAlive<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>isAlive <span class="token operator">=</span> isAlive<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">boolean</span> <span class="token function">getIsAlive</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> isAlive<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">class</span> <span class="token class-name">Heart</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">jump</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 注意成员内部类的成员方法访问当前外部类对象的方式</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Body</span><span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">.</span>isAlive<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;heart is jumping&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;you&#39;re dead&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-什么是静态内部类" tabindex="-1"><a class="header-anchor" href="#_3-什么是静态内部类"><span>3. 什么是静态内部类</span></a></h3><p>静态内部类是指定义在另一个类中、方法之外、且用<code>static</code>修饰的内部类，<strong>静态内部类可以访问到外部类的所有静态成员</strong>。创建静态内部类的方法：<code>外部类名.内部类名 对象名 = new 外部类名.内部类名();</code>。</p><h3 id="_4-什么是局部内部类" tabindex="-1"><a class="header-anchor" href="#_4-什么是局部内部类"><span>4. 什么是局部内部类</span></a></h3><p>局部内部类是指定义在另一个类的成员方法/构造器/代码块之中的类。<strong>局部内部类只能在当前方法中被使用，可以访问到外部类的所有成员</strong>。局部内部类创建对象的方式与普通类保持一致。</p><h3 id="_5-什么是匿名内部类" tabindex="-1"><a class="header-anchor" href="#_5-什么是匿名内部类"><span>5. 什么是匿名内部类</span></a></h3><p>匿名内部类是指一个不具有类名的内部类，使用匿名内部类可以<strong>快速创建出一个子类对象</strong>，<strong>作为一个参数传递</strong>给其他方法，简化了代码。匿名内部类的构造方式：<code>new className/interFace(args of constructor) { method override }</code>。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">Thread</span> t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;run override&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 匿名内部类作为参数传递</span>
</code></pre></div><h2 id="枚举-enum" tabindex="-1"><a class="header-anchor" href="#枚举-enum"><span>枚举（enum）</span></a></h2><h3 id="_1-什么是枚举" tabindex="-1"><a class="header-anchor" href="#_1-什么是枚举"><span>1. 什么是枚举</span></a></h3><p>枚举是 JDK1.5 新增的一种特殊类，用于列举某个类型的所有值。枚举的第一行只能写一些合法的标识符，这些标识符被称作枚举项，枚举项的本质都是常量（<strong>这些常量的值都是枚举类的一个对象</strong>），每个枚举项之间用<code>,</code>隔开。枚举类的构造器都是<strong>私有</strong>的，枚举类都是<strong>最终</strong>类，不可以被继承。</p><h3 id="_2-如何通过索引获取枚举项" tabindex="-1"><a class="header-anchor" href="#_2-如何通过索引获取枚举项"><span>2. 如何通过索引获取枚举项</span></a></h3><p>要通过索引获取枚举项，可以通过<code>public static Enum[] values()</code>方法获取枚举数组。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Scanner</span> scanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> number <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>number <span class="token operator">&gt;</span> <span class="token class-name">Season</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">||</span> number <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;输入值非法，重新输入&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            number <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Season</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Season</span><span class="token punctuation">.</span><span class="token constant">SPRING</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token class-name">Season</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span>number<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 注意case之后只能跟字面量，Season.SPRING是Season的一个对象，因此不能写Season.SPRING只能写SPRING</span>
            <span class="token keyword">case</span> <span class="token constant">SPRING</span><span class="token operator">:</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;推荐去厦门旅游&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token constant">SUMMER</span><span class="token operator">:</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;推荐去黑龙江旅游&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token constant">AUTUMN</span><span class="token operator">:</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;推荐去云南旅游&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token constant">WINTER</span><span class="token operator">:</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;推荐去海南旅游&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">enum</span> <span class="token class-name">Season</span> <span class="token punctuation">{</span>
    <span class="token constant">SPRING</span><span class="token punctuation">,</span><span class="token constant">SUMMER</span><span class="token punctuation">,</span><span class="token constant">AUTUMN</span><span class="token punctuation">,</span><span class="token constant">WINTER</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-使用枚举实现单例设计模式" tabindex="-1"><a class="header-anchor" href="#_3-使用枚举实现单例设计模式"><span>3. 使用枚举实现单例设计模式</span></a></h3><p>可以通过只声明一个枚举项来实现单例设计模式，枚举的构造器都是默认私有的，而只声明一个枚举项则只会创建一个对象，契合了单例设计模式的设计要点。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">AudioPlayer</span><span class="token punctuation">.</span><span class="token constant">AP</span><span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">enum</span> <span class="token class-name">AudioPlayer</span> <span class="token punctuation">{</span>
  <span class="token constant">AP</span><span class="token punctuation">;</span>	<span class="token comment">// 一个枚举项就是一个AudioPlayer对象，因此只写一个枚举项</span>
  <span class="token comment">// 枚举可以有方法</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;play&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="泛型-generic" tabindex="-1"><a class="header-anchor" href="#泛型-generic"><span>泛型（generic）</span></a></h2><h3 id="_1-什么是泛型" tabindex="-1"><a class="header-anchor" href="#_1-什么是泛型"><span>1. 什么是泛型</span></a></h3><p>泛型是 JDK1.5 引入的新特性，使用泛型可以将具体的数据类型作为参数传递给类型变量，泛型使用<code>&lt;&gt;</code>表示，泛型<strong>只能接收引用数据类型</strong>作为参数。使用泛型可以减少代码冗余，提高开发效率。</p><h3 id="_2-什么是泛型类" tabindex="-1"><a class="header-anchor" href="#_2-什么是泛型类"><span>2. 什么是泛型类</span></a></h3><p>泛型类是指使用泛型传递类型变量的类，泛型类应将<code>&lt;E&gt;</code>书写于类名之后，如下所示：</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">MyArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> al <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 将Integer作为参数传递给类型变量</span>
    <span class="token class-name">Integer</span> x <span class="token operator">=</span> al<span class="token punctuation">.</span><span class="token function">getE</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">MyArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token class-name">E</span> e<span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token class-name">MyArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token class-name">MyArrayList</span><span class="token punctuation">(</span><span class="token class-name">E</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>e <span class="token operator">=</span> e<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token class-name">E</span> <span class="token function">getE</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> e<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setE</span><span class="token punctuation">(</span><span class="token class-name">E</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>e <span class="token operator">=</span> e<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-什么是泛型接口" tabindex="-1"><a class="header-anchor" href="#_3-什么是泛型接口"><span>3. 什么是泛型接口</span></a></h3><p>与泛型类类似，泛型接口也需要将<code>&lt;E&gt;</code>书写与接口名之后，不同的是，泛型接口在使用时仍需要创建一个实现类，该类的泛型参数与接口的泛型参数保持一致，如下所示：</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">interface</span> <span class="token class-name">MyInterface</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token class-name">E</span> <span class="token function">getE</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">MyClass</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">implements</span> <span class="token class-name">MyInterface</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>	<span class="token comment">// 实现类也使用了泛型</span>
  <span class="token keyword">public</span> <span class="token class-name">E</span> <span class="token function">getE</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">MyClass</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> x <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyClass</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    x<span class="token punctuation">.</span><span class="token function">getE</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// null</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-什么是泛型方法" tabindex="-1"><a class="header-anchor" href="#_4-什么是泛型方法"><span>4. 什么是泛型方法</span></a></h3><p>泛型方法是指方法的参数列表使用泛型，此时<code>&lt;T&gt;</code>应该书写在返回值类型之前，如下所示：</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_5-什么是泛型通配符-如何设置泛型的上下限" tabindex="-1"><a class="header-anchor" href="#_5-什么是泛型通配符-如何设置泛型的上下限"><span>5. 什么是泛型通配符，如何设置泛型的上下限</span></a></h3><p>泛型通配符就是<code>?</code>，表示一切类型。可以通过<code>&lt;? extends ClassName&gt;</code>设置泛型的上限，参数只能够接受<code>ClassName</code>类及其子类；可以通过<code>&lt;? super ClassName&gt;</code>设置泛型的下限，参数只能够接受<code>ClassName</code>类及其父类。</p><h3 id="_6-什么是泛型擦除" tabindex="-1"><a class="header-anchor" href="#_6-什么是泛型擦除"><span>6. 什么是泛型擦除</span></a></h3><p><strong>泛型是工作在编译阶段的</strong>，一旦程序编译成字节码文件，字节码文件中就不存在泛型了，这就是泛型擦除。</p><h2 id="java-lang-object" tabindex="-1"><a class="header-anchor" href="#java-lang-object"><span>Java.lang.Object</span></a></h2><p><code>Object</code>类是所有类的父类，其他类的对象都可以使用<code>Object</code>类上的方法。</p><h3 id="_1-object-类的常用方法" tabindex="-1"><a class="header-anchor" href="#_1-object-类的常用方法"><span>1. Object 类的常用方法</span></a></h3><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>public String toString()</td><td>返回对象的字符串表达形式（默认返回值为<code>包名.类名@对象的地址值</code>）</td></tr><tr><td>public boolean equals(Object o)</td><td>判断两个对象是否相等</td></tr><tr><td>protected Object clone()</td><td>返回一个对象的复制</td></tr></tbody></table><h3 id="_2-如何重写-equals-方法" tabindex="-1"><a class="header-anchor" href="#_2-如何重写-equals-方法"><span>2. 如何重写 equals()方法</span></a></h3><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token class-name">String</span> name<span class="token punctuation">;</span>
  <span class="token keyword">int</span> age<span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  	<span class="token keyword">if</span><span class="token punctuation">(</span>o <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>	<span class="token comment">// 判断参数是否为null</span>
  	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">==</span> o<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>	<span class="token comment">// 判断二者地址值是否相等</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> o<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>	<span class="token comment">// 判断二者类型是否相等</span>
    <span class="token class-name">Person</span> p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">)</span> o<span class="token punctuation">;</span>	<span class="token comment">// 强制类型转换后判断每个成员变量是否相等</span>
  	<span class="token keyword">if</span><span class="token punctuation">(</span>age <span class="token operator">!=</span> p<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>name<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Person</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;goh&quot;</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Person</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;goh&quot;</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    p1<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-如何重写-clone-方法" tabindex="-1"><a class="header-anchor" href="#_3-如何重写-clone-方法"><span>3. 如何重写 clone()方法</span></a></h3><p><code>Object</code>类中的<code>clone()</code>方法的权限修饰词是<code>protected</code>，这也就意味着如果想要在测试类中使用该方法，子类必须<strong>重写</strong>该方法，且<strong>测试类与子类需要处于同一包</strong>下，此外，子类还必须<strong>实现<code>Cloneable</code>接口</strong>，如下所示：</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token keyword">implements</span> <span class="token class-name">Cloneable</span><span class="token punctuation">{</span>
  <span class="token class-name">String</span> name<span class="token punctuation">;</span>
  <span class="token keyword">int</span> age<span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">protected</span> <span class="token class-name">Object</span> <span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">CloneNotSupportedException</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">CloneNotSupportedException</span> <span class="token punctuation">{</span>
    <span class="token class-name">Person</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;goh&quot;</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Person</span> p2 <span class="token operator">=</span> p1<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    p2<span class="token punctuation">.</span>name<span class="token punctuation">;</span> <span class="token comment">// goh</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-什么是浅克隆-什么是深克隆" tabindex="-1"><a class="header-anchor" href="#_4-什么是浅克隆-什么是深克隆"><span>4. 什么是浅克隆，什么是深克隆</span></a></h3><p>浅克隆是指复制出来的对象：1. 基本数据类型的值相同；2. 引用数据类型的地址相同。</p><p>深克隆是指复制出来的对象：1. 基本数据类型的值相同；2. 字符串类型的地址相同；3. 其他引用数据类型的地址不相同，创建一个值相同的新对象。</p><h2 id="java-util-objects" tabindex="-1"><a class="header-anchor" href="#java-util-objects"><span>java.util.Objects</span></a></h2><p><code>Objects</code>类是一个工具类，提供了很多用于操作对象的静态方法。</p><h3 id="_1-objects-类的常用方法" tabindex="-1"><a class="header-anchor" href="#_1-objects-类的常用方法"><span>1. Objects 类的常用方法</span></a></h3><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>public static boolean equals(Object a, Object b)</td><td>用于判断两个对象是否相等，有效解决了<strong>空指针异常</strong>的问题</td></tr><tr><td>public static boolean isNull(Object o)</td><td>判断对象是否为 null</td></tr><tr><td>public static boolean nonNull(Object o)</td><td>判断对象是否为非 null</td></tr></tbody></table><h2 id="包装类" tabindex="-1"><a class="header-anchor" href="#包装类"><span>包装类</span></a></h2><h3 id="_1-java-的包装类有哪些" tabindex="-1"><a class="header-anchor" href="#_1-java-的包装类有哪些"><span>1. Java 的包装类有哪些</span></a></h3><p>Java 提供了八种包装类，位于<code>java.lang</code>包中，分别是<code>Byte</code>、<code>Short</code>、<code>Integer</code>、<code>Long</code>、<code>Float</code>、<code>Double</code>、<code>Boolean</code>和<code>Character</code>。</p><h3 id="_2-为什么要使用包装类" tabindex="-1"><a class="header-anchor" href="#_2-为什么要使用包装类"><span>2. 为什么要使用包装类</span></a></h3><p>使用包装类的原因主要有两点：1. <strong>泛型不支持基本数据类型</strong>，但集合等数据结构往往在使用泛型的同时需要存储基本数据类型的值。 2. 虽然<strong>基本数据类型</strong>的运算效率高，但其本身的<strong>功能有限</strong>。</p><h3 id="_3-包装类的常用方法-以-integer-为例" tabindex="-1"><a class="header-anchor" href="#_3-包装类的常用方法-以-integer-为例"><span>3. 包装类的常用方法（以 Integer 为例）</span></a></h3><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>public static int parseInt(String s)</td><td>将字符串转换为整型，转换失败会抛出 NumberFormatException</td></tr><tr><td>public static String toString(int i)</td><td>将整型转换为字符串</td></tr></tbody></table><h3 id="_4-介绍一下自动装箱和自动拆箱" tabindex="-1"><a class="header-anchor" href="#_4-介绍一下自动装箱和自动拆箱"><span>4. 介绍一下自动装箱和自动拆箱</span></a></h3><p>自动装箱是指将基本数据类型转换为对应的包装类，自动拆箱是指将包装类转换为对应的基本数据类型。自动装箱和自动拆箱常见于集合元素的增加和查找时，如<code>ArrayList</code>的<code>add()</code>方法就常常会自动装箱，而<code>ArrayList</code>的<code>get()</code>方法就常常会自动拆箱。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> al <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    al<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 这里会自动装箱，因为add()方法要求的参数类型为Integer</span>
    <span class="token keyword">int</span> a <span class="token operator">=</span> al<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 这里会自动拆箱，因为get()方法的返回值类型为Integer</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_5-自动装箱和自动拆箱的底层原理" tabindex="-1"><a class="header-anchor" href="#_5-自动装箱和自动拆箱的底层原理"><span>5. 自动装箱和自动拆箱的底层原理</span></a></h3><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">Integer</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>	<span class="token comment">// 自动装箱，等价于Integer a = Integer.valueOf(1);</span>
<span class="token keyword">int</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span>	<span class="token comment">// 自动拆箱，等价于int b = a.intValue();</span>
</code></pre></div><h2 id="java-lang-stringbuilder-和-java-lang-stringbuffer" tabindex="-1"><a class="header-anchor" href="#java-lang-stringbuilder-和-java-lang-stringbuffer"><span>java.lang.StringBuilder 和 java.lang.StringBuffer</span></a></h2><h3 id="_1-为什么有了-string-类还要使用-stringbuilder-类和-stringbuffer-类" tabindex="-1"><a class="header-anchor" href="#_1-为什么有了-string-类还要使用-stringbuilder-类和-stringbuffer-类"><span>1. 为什么有了 String 类还要使用 StringBuilder 类和 StringBuffer 类</span></a></h3><p><code>String</code>类是不可变对象，而<code>StringBuilder</code>和<code>StringBuffer</code>都是可变对象，使用<code>StringBuilder</code>和<code>StringBuffer</code>频繁操作字符串对象效率更高，而且代码更简洁。</p><h3 id="_2-stringbuilder-类和-stringbuffer-类有什么区别" tabindex="-1"><a class="header-anchor" href="#_2-stringbuilder-类和-stringbuffer-类有什么区别"><span>2. StringBuilder 类和 StringBuffer 类有什么区别</span></a></h3><p><code>StringBuilder</code>类和<code>StringBuffer</code>类的 API 调用方式几乎一致，不同的是，<code>StringBuffer</code>类在多线程中更为安全（内部 API 使用了<code>syschronized</code>修饰符），但是效率较<code>StringBuffer</code>类低（比<code>String</code>类还是要高），<code>StringBuilder</code>类在多线程中不够安全，但效率很高。在平时的开发环境中（单线程环境），<code>StringBuilder</code>类更常用，因为二者在单线程中没有安全之分。</p><h3 id="_3-stringbuilder-类和-stringbuffer-类的常用方法-以-stringbuilder-为例" tabindex="-1"><a class="header-anchor" href="#_3-stringbuilder-类和-stringbuffer-类的常用方法-以-stringbuilder-为例"><span>3. StringBuilder 类和 StringBuffer 类的常用方法（以 StringBuilder 为例）</span></a></h3><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>public StringBuilder append(E)</td><td>对象拼接并返回 StringBuilder 对象本身，可以链式调用</td></tr><tr><td>public StringBuilder reverse()</td><td>反转对象</td></tr><tr><td>public int length()</td><td>返回对象的长度</td></tr><tr><td>public String toString()</td><td>将 StringBuilder 对象转换为 String 对象</td></tr></tbody></table><h2 id="java-util-stringjoiner" tabindex="-1"><a class="header-anchor" href="#java-util-stringjoiner"><span>java.util.StringJoiner</span></a></h2><h3 id="_1-stringjoiner-类的作用是什么" tabindex="-1"><a class="header-anchor" href="#_1-stringjoiner-类的作用是什么"><span>1. StringJoiner 类的作用是什么</span></a></h3><p><code>StringJoiner</code>类是一个可变的容器，用于操作字符串。<code>StringJoiner</code>类没有无参构造器，创建对象时必须传入一个字符串作为分隔符，构造器的参数 2 和参数 3 为可选参数，分别可以传入前缀和后缀。</p><h3 id="_2-stringjoiner-类的常用方法" tabindex="-1"><a class="header-anchor" href="#_2-stringjoiner-类的常用方法"><span>2. StringJoiner 类的常用方法</span></a></h3><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>public StringJoiner add(CharSequence cs)</td><td>对象添加新字符串，返回对象本身</td></tr><tr><td>public int length()</td><td>返回对象的长度</td></tr><tr><td>public String toString()</td><td>将 StringJoiner 对象转换为 String 对象</td></tr></tbody></table><h2 id="java-lang-system" tabindex="-1"><a class="header-anchor" href="#java-lang-system"><span>java.lang.System</span></a></h2><p><code>System</code>类是一个工具类，代表程序所在的系统。</p><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>public static void exit(int status)</td><td>终止当前运行的虚拟机，接收的参数为状态码，约定一个非 0 的状态码表示状态异常</td></tr><tr><td>public static long currentTimeMillis()</td><td>返回当前系统时间的毫秒值形式（自 1970 年 1 月 1 日 0 时 0 分 0 秒起）</td></tr></tbody></table><p><code>System</code>类有三个成员变量，分别是<code>in</code>、<code>out</code>和<code>err</code>，<code>System.in</code>表示标准输入流，<code>System.out</code>表示标准输出流，<code>System.err</code>表示标准错误输出流。</p><h2 id="java-lang-runtime" tabindex="-1"><a class="header-anchor" href="#java-lang-runtime"><span>java.lang.Runtime</span></a></h2><p><code>Runtime</code>类是一个单例类，代表当前的运行环境。</p><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>public static Runtime getRuntime()</td><td>返回 Runtime 类内部创建的单例</td></tr><tr><td>public void exit(int status)</td><td>终止当前运行的虚拟机（同 System.exit()）</td></tr><tr><td>public int availableProcessors()</td><td>返回 Java 虚拟机可用的处理器数</td></tr><tr><td>public long totalMemory()</td><td>返回 Java 虚拟机的内存总量</td></tr><tr><td>public long freeMemory()</td><td>返回 Java 虚拟机的可用内存总量</td></tr><tr><td>public Process exec(String command)</td><td>启动某个程序，并返回代表该程序的对象</td></tr></tbody></table><h2 id="java-util-math" tabindex="-1"><a class="header-anchor" href="#java-util-math"><span>java.util.Math</span></a></h2><p><code>Math</code>是一个工具类，提供了一些用于操作数据的数学方法。</p><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>public static int abs(int a)</td><td>求绝对值</td></tr><tr><td>public static double ceil(double a)</td><td>向上取整</td></tr><tr><td>public static double floor(double a)</td><td>向下取整</td></tr><tr><td>public static int round(float a)</td><td>四舍五入</td></tr><tr><td>public static int max(int a, int b)</td><td>求较大值</td></tr><tr><td>public static double pow(double a, double b)</td><td>求 a 的 b 次方</td></tr><tr><td>public static double random()</td><td>生成[0.0,1.0)之间的随机数</td></tr></tbody></table><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token number">1.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 2</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 注意这里是-1，浮点数的精度问题</span>
</code></pre></div><h2 id="java-math-bigdecimal" tabindex="-1"><a class="header-anchor" href="#java-math-bigdecimal"><span>java.math.BigDecimal</span></a></h2><p><code>BigDecimal</code>类用于解决<strong>浮点数运算时出现的精度丢失</strong>问题。<code>BigDecimal</code>类常用的构造器有两个，分别是参数为<code>double</code>的构造器和参数为<code>String</code>的构造器，由于参数为<code>double</code>的构造器仍存在精度问题，因此更<strong>推荐使用参数为<code>String</code>的构造器</strong>。</p><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>public static BigDecimal valueOf(double val)</td><td>将一个 double 类型的值转换为 BigDecimal 对象，由于其操作简单，因此常常使用该静态方法代替构造器来创建 BigDecimal 对象</td></tr><tr><td>public BigDecimal add(BigDecimal b)</td><td>加法，可以链式调用</td></tr><tr><td>public BigDecimal subtract(BigDecimal b)</td><td>减法</td></tr><tr><td>public BigDecimal multiply(BigDecimal b)</td><td>乘法</td></tr><tr><td>public BigDecimal divide(BigDecimal b)</td><td>除法</td></tr><tr><td>public BigDecimal divide(BigDecimal b, int scale, RoundingMode rm)</td><td>除法，参数 2 表示精确到小数点后的位数，参数 3 表示舍入方案的选择，使用了 RoundingMode 枚举类</td></tr><tr><td>public double doubleValue()</td><td>将 BigDecimal 转换为 double</td></tr></tbody></table><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">BigDecimal</span> b1 <span class="token operator">=</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">BigDecimal</span> b2 <span class="token operator">=</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">BigDecimal</span> b3 <span class="token operator">=</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>b1<span class="token punctuation">.</span><span class="token function">divide</span><span class="token punctuation">(</span>b2<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token class-name">RoundingMode</span><span class="token punctuation">.</span><span class="token constant">HALF_UP</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 2</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>b1<span class="token punctuation">.</span><span class="token function">divide</span><span class="token punctuation">(</span>b3<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token class-name">RoundingMode</span><span class="token punctuation">.</span><span class="token constant">HALF_UP</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// -2，注意与Math.round()的结果不一致</span>
</code></pre></div><h2 id="java-util-date" tabindex="-1"><a class="header-anchor" href="#java-util-date"><span>java.util.Date</span></a></h2><p>在 JDK8 之前，我们使用<code>Date</code>类、<code>SimpleDateFormat</code>类和<code>Calendar</code>类来获取、操作日期或时间。</p><p><code>Date</code>类常用的构造器有两种，一种是无参构造器，创建的<code>Date</code>对象表示<strong>此时此刻</strong>的日期时间，另一种是参数为<code>long</code>的构造器，接收一个<strong>时间毫秒值</strong>并将其转换为<code>Date</code>对象。</p><h3 id="_1-date-类的常用方法" tabindex="-1"><a class="header-anchor" href="#_1-date-类的常用方法"><span>1. Date 类的常用方法</span></a></h3><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>public long getTime()</td><td>返回从 1970 年 1 月 1 日 0 时 0 分 0 秒到日期对象经过的毫秒数</td></tr><tr><td>public void setTime(long time)</td><td>将日期对象设置为与参数传入的毫秒数对应的日期</td></tr></tbody></table><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// Mon May 13 20:12:40 CST 2024</span>
date<span class="token punctuation">.</span><span class="token function">setTime</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// Thu Jan 01 08:00:01 CST 1970</span>
</code></pre></div><h3 id="_2-date-类有什么缺陷" tabindex="-1"><a class="header-anchor" href="#_2-date-类有什么缺陷"><span>2. Date 类有什么缺陷</span></a></h3><p>首先，<code>Date</code>类创建的是<strong>可变对象</strong>，修改日期对象后就无法访问初始的日期对象了；其次，<code>Date</code>类的很多<strong>方法都已经过时</strong>了，典型的例子是<code>public int getYear()</code>，该方法返回的是日期对象的年份与 1900 年的差值，这样的设计缺乏合理性，因此 Java 目前已经弃用了该方法。</p><h2 id="java-text-simpledateformat" tabindex="-1"><a class="header-anchor" href="#java-text-simpledateformat"><span>java.text.SimpleDateFormat</span></a></h2><p><code>SimpleDateFormat</code>类可以将时间毫秒值和日期对象<strong>格式化</strong>成指定的格式。</p><p><code>SimpleDateFormat</code>类的构造器接收一个<code>String</code>参数，该参数用于指定格式化的格式，格式化采用特定字母表示特定含义，其中<code>y</code>表示年，<code>M</code>表示月，<code>d</code>表示日，<code>H</code>表示时，<code>m</code>表示分，<code>s</code>表示秒，<code>E</code>表示星期几，<code>a</code>表示上下午，字母的个数表示了表达的含义需要的长度，如下所示：</p><div class="language-markdown" data-ext="md" data-title="md"><pre class="language-markdown"><code>&quot;yyyy-MM-dd HH:mm:ss EEE&quot; 对应 &quot;2024-05-13 20:34:10 周一&quot;
&quot;yy M dd&quot; 对应 &quot;24 5 13&quot;
</code></pre></div><h3 id="_1-simpledateformat-的常用方法" tabindex="-1"><a class="header-anchor" href="#_1-simpledateformat-的常用方法"><span>1. SimpleDateFormat 的常用方法</span></a></h3><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>public final String format(Date date)</td><td>将日期对象按照格式化对象的格式进行格式化</td></tr><tr><td>public final String format(Object time)</td><td>将时间毫秒数按照格式化对象的格式进行格式化</td></tr><tr><td>public Date parse(String source)</td><td>将字符串按照格式化对象的格式解析为日期对象，注意使用 parse 方法时需要抛出 ParseException 异常</td></tr></tbody></table><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ParseException</span> <span class="token punctuation">{</span>
    <span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">SimpleDateFormat</span> sdf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd HH:mm:ss EEE&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> s <span class="token operator">=</span> sdf<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 2024-05-13 20:48:44 周一</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sdf<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// Mon May 13 20:48:44 CST 2024</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-simpledateformat-类有什么缺陷" tabindex="-1"><a class="header-anchor" href="#_2-simpledateformat-类有什么缺陷"><span>2. SimpleDateFormat 类有什么缺陷</span></a></h3><p><code>SimpleDateFormat</code>类在<strong>多线程</strong>时使用是不安全的。</p><h2 id="java-util-calendar" tabindex="-1"><a class="header-anchor" href="#java-util-calendar"><span>java.util.Calendar</span></a></h2><p><code>Calendar</code>类代表的是系统此时此刻的日历，使用<code>Calendar</code>类可以<strong>单独获取或修改</strong>时间的年、月、日、时、分、秒。</p><h3 id="_1-calendar-的常用方法" tabindex="-1"><a class="header-anchor" href="#_1-calendar-的常用方法"><span>1. Calendar 的常用方法</span></a></h3><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>public static Calendar getInstance()</td><td>用于获取当前日历对象</td></tr><tr><td>public int get(int field)</td><td>根据日历参数获取对应的值，通常使用日历类提供的常量来获取日历参数，见下表</td></tr><tr><td>public final Date getTime()</td><td>根据当前日历对象获取日期对象</td></tr><tr><td>public long getTimeInMillis()</td><td>根据日历对象获取时间毫秒值</td></tr><tr><td>public void set(int field, int value)</td><td>修改日历对象中指定日历参数的值（绝对修改，需要注意的是，修改了 Calendar.DAY_OF_MONTH 的值后，Calendar.DAY_OF_WEEK 等关联值也会随之改变）</td></tr><tr><td>public void add(int field, int value)</td><td>增加或减少日历对象中指定的日历参数的值（相对修改，value 为正表示增加，为负表示减少注意事项同上）</td></tr></tbody></table><h3 id="_2-常见的日历参数-field" tabindex="-1"><a class="header-anchor" href="#_2-常见的日历参数-field"><span>2. 常见的日历参数（field）</span></a></h3><p>日历参数是指<code>Calendar</code>类定义的一些常量，通过这些常量配合<code>get</code>方法可以访问到相应的年、月、日等。</p><table><thead><tr><th>日历参数</th><th>说明</th></tr></thead><tbody><tr><td>Calendar.YEAR</td><td>用于获取日历对象的年</td></tr><tr><td>Calendar.MONTH</td><td>用于获取日历对象的月（注意这里月的取值范围为[0,11]）</td></tr><tr><td>Calendar.DAY_OF_MONTH</td><td>用于获取日历对象的日</td></tr><tr><td>Calendar.HOUR_OF_DAY</td><td>用于获取日历对象的时</td></tr><tr><td>Calendar.MINUTE</td><td>用于获取日历对象的分</td></tr><tr><td>Calendar.SECOND</td><td>用于获取日历对象的秒</td></tr><tr><td>Calendar.MILLISECOND</td><td>用于获取日历对象的毫秒</td></tr></tbody></table><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">Calendar</span> c <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
c<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token constant">YEAR</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 2024</span>
</code></pre></div><h3 id="_3-calendar-类有什么缺陷" tabindex="-1"><a class="header-anchor" href="#_3-calendar-类有什么缺陷"><span>3. Calendar 类有什么缺陷</span></a></h3><p>首先，<code>Calendar</code>类创造的对象是<strong>可变</strong>的，一旦修改了日历对象就无法获取起始的日历对象的值了；其次，<code>Calendar</code>类获取的时间<strong>只能精确到毫秒</strong>；最后<code>Calendar</code>类的月份起始值为 0，这样的设计是反直觉的。</p><h2 id="java-time" tabindex="-1"><a class="header-anchor" href="#java-time"><span>java.time</span></a></h2><p><code>java.time</code>包在 JDK8 后新增了许多用于访问和操作日期对象的类，这些类弥补了<code>Date</code>类、<code>SimpleDateFormat</code>类和<code>Calendar</code>类在设计上的不足，他们创建的对象都是<strong>不可变</strong>的，且在<strong>多线程中安全</strong>，时间记录能够精确到<strong>纳秒</strong>级别。</p><h2 id="java-time-localdate、java-time-localtime-和-java-time-localdatetime" tabindex="-1"><a class="header-anchor" href="#java-time-localdate、java-time-localtime-和-java-time-localdatetime"><span>java.time.LocalDate、java.time.LocalTime 和 java.time.LocalDateTime</span></a></h2><p><code>LocalDate</code>类、<code>LocalTime</code>类和<code>LocalDateTime</code>类主要是用来代替<code>Calendar</code>类的，这三个类创建的对象都是<strong>不可变对象</strong>，且可以<strong>精确到纳秒</strong>。使用<code>LocalDate</code>类能够访问到年、月、日、星期，使用<code>LocalTime</code>类能够访问到时、分、秒、纳秒（注意这里的纳秒是 9 位数，不足一秒的都会被记录在纳秒内），而<code>LocalDateTime</code>则是前两个类的结合体。</p><h3 id="_1-java-time-localdatetime-的常用方法-三类-api-类似-以此为例" tabindex="-1"><a class="header-anchor" href="#_1-java-time-localdatetime-的常用方法-三类-api-类似-以此为例"><span>1. java.time.LocalDateTime 的常用方法（三类 API 类似，以此为例）</span></a></h3><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>public static LocalDateTime now()</td><td>获取系统当前时间对应的时间对象</td></tr><tr><td>public static LocalDateTime of(int y, int m, int d, int h, int min, int s, int ns)</td><td>获取指定时间对应的时间对象</td></tr><tr><td>public int getYear()</td><td>获取时间对象对应的年</td></tr><tr><td>public int getMonthValue()</td><td>获取时间对象对应的月，<code>getMonth</code>可以获取月的英文形式</td></tr><tr><td>public int getDayOfMonth()</td><td>获取时间对象对应的日</td></tr><tr><td>public DayOfWeek getDayOfWeek()</td><td>获取时间对象对应星期几</td></tr><tr><td>public int getHour()</td><td>获取时间对象对应的时</td></tr><tr><td>public int getMinute()</td><td>获取时间对象对应的分</td></tr><tr><td>public int getSecond()</td><td>获取时间对象对应的秒</td></tr><tr><td>public int getNano()</td><td>获取时间对象对应的纳秒</td></tr><tr><td>withYear、withMonth、withDayOfMonth……</td><td>修改某个信息，并返回新的时间对象</td></tr><tr><td>plusYear、plusMonth、plusDayOfMonth……</td><td>增加某个信息的值，并返回新的时间对象</td></tr><tr><td>minusYear、minusMonth、minusDayOfMonth……</td><td>减少某个信息的值，并返回新的时间对象</td></tr><tr><td>equals、isBefore、isAfter</td><td>判断两个时间对象是否相等，在前或在后</td></tr><tr><td>public LocalDateTime ofInstant(Insant i, ZoneId zi)</td><td>将 Instant 对象转换为 LocalDateTime 对象</td></tr></tbody></table><h2 id="java-time-zoneid-和-java-time-zoneddatetime" tabindex="-1"><a class="header-anchor" href="#java-time-zoneid-和-java-time-zoneddatetime"><span>java.time.ZoneId 和 java.time.ZonedDateTime</span></a></h2><h3 id="_1-zoneid-的常用方法" tabindex="-1"><a class="header-anchor" href="#_1-zoneid-的常用方法"><span>1. ZoneId 的常用方法</span></a></h3><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>public static Set&lt;String&gt; getAvaliableZoneIds()</td><td>返回值是一个集合类型，集合中的项表示 Java 支持的所有时区，通常有两种格式，一种为&quot;洲名/城市名&quot;（Asia/Shanghai），另一种为&quot;国家名/城市名&quot;（America/New_York）</td></tr><tr><td>public static ZoneId systemDefault()</td><td>获取系统默认时区，注意这里的返回值是一个 ZoneId 类型的值，进行字符串比较时需要使用<code>getId</code>方法才能比较</td></tr><tr><td>public static ZoneId of(String zoneId)</td><td>根据 zoneId 字符串获取指定的时区</td></tr><tr><td>public String getId()</td><td>获取一个 ZoneId 类型的对象对应的值</td></tr></tbody></table><h3 id="_2-zoneddatetime-的常用方法" tabindex="-1"><a class="header-anchor" href="#_2-zoneddatetime-的常用方法"><span>2. ZonedDateTime 的常用方法</span></a></h3><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>public static ZonedDateTime now()</td><td>获取当前时区的 ZonedDateTime 对象</td></tr><tr><td>public static ZonedDateTime now(ZoneId zoneid)</td><td>获取指定时区的 ZonedDateTime 对象</td></tr><tr><td>下述方法与 LocalDateTime 的对象方法类似</td><td></td></tr><tr><td>getYear、getMonthValue、getDayOfMonth……</td><td>获取 ZonedDateTime 对象的年、月、日、时、分、秒、纳秒等</td></tr><tr><td>withYear、withMonth、withDayOfMonth……</td><td>修改某个信息，并返回新的 ZonedDateTime 对象</td></tr><tr><td>plusYear、plusMonth、plusDayOfMonth……</td><td>增加某个信息的值，并返回新的 ZonedDateTime 对象</td></tr><tr><td>minusYear、minusMonth、minusDayOfMonth……</td><td>减少某个信息的值，并返回新的 ZonedDateTime 对象</td></tr><tr><td>public ZonedDateTime ofInstant(Insant i, ZoneId zi)</td><td>将 Instant 对象转换为 ZonedDateTime 对象</td></tr></tbody></table><h2 id="java-time-instant" tabindex="-1"><a class="header-anchor" href="#java-time-instant"><span>java.time.Instant</span></a></h2><p><code>Instant</code>类主要是用来代替<code>Date</code>类的，<code>Instant</code>类创建的对象是<strong>不可变对象</strong>，而且<code>Instant</code>类可以<strong>精确到纳秒</strong>。</p><h3 id="_1-instance-的常用方法" tabindex="-1"><a class="header-anchor" href="#_1-instance-的常用方法"><span>1. Instance 的常用方法</span></a></h3><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>public static Instant now()</td><td>获取当前时间的 Instant 对象</td></tr><tr><td>public static Instant ofEpochSecond(long second)</td><td>获取指定时间的 Instant 对象</td></tr><tr><td>public long getEpochSecond()</td><td>获取从 1970 年 1 月 1 日 0 时 0 分 0 秒到当前时间经历的秒数</td></tr><tr><td>public int getNano()</td><td>获取从 1970 年 1 月 1 日 0 时 0 分 0 秒到当前时间经历的纳秒数</td></tr><tr><td>withSeconds、withMillis、withNanos</td><td>修改某个信息，并返回新的 Instant 对象</td></tr><tr><td>plusSeconds、plusMillis、plusNanos</td><td>增加某个信息的值，并返回新的 Instant 对象</td></tr><tr><td>minusSeconds、minusMillis、minusNanos</td><td>减少某个信息的值，并返回新的 Instant 对象</td></tr><tr><td>equals、isBefore、isAfter</td><td>判断两个 Instant 对象是否相等，在前或在后</td></tr></tbody></table><h2 id="java-time-format-datetimeformatter" tabindex="-1"><a class="header-anchor" href="#java-time-format-datetimeformatter"><span>java.time.format.DateTimeFormatter</span></a></h2><p>和<code>SimpleDateFormat</code>类似，<code>DateTimeFormatter</code>类也是一个格式化器，用于格式化和解析时间对象，不同的是，<code>DateTimeFormatter</code>在<strong>多线程环境下是安全</strong>的。</p><h3 id="_1-datetimeformatter-的常用方法" tabindex="-1"><a class="header-anchor" href="#_1-datetimeformatter-的常用方法"><span>1. DateTimeFormatter 的常用方法</span></a></h3><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>public static DateTimeFormatter ofPattern(String format)</td><td>根据时间格式创建格式化对象</td></tr><tr><td>public String format(TemporalAccessor ta)</td><td>使用格式化对象格式化时间对象，注意不能格式化 Date 对象，可以格式化 LocalDateTime 对象和 ZonedDateTime 对象，如果需要格式化 Instant 对象，需要先将 Instant 对象转换为 LocalDateTime 对象或者 ZonedDateTime 对象</td></tr></tbody></table><h3 id="_2-使用-localdatetime-的成员方法格式化和解析时间" tabindex="-1"><a class="header-anchor" href="#_2-使用-localdatetime-的成员方法格式化和解析时间"><span>2. 使用 LocalDateTime 的成员方法格式化和解析时间</span></a></h3><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>public String format(DateTimeFormatter dtf)</td><td>根据格式化对象将时间对象格式化为字符串</td></tr><tr><td>public static LocalDateTime parse(CharSequence text, DateTimeFormatter dtf)</td><td>将时间字符串根据格式化对象解析为时间对象，根据格式字符串决定返回值的类型，如果格式字符串中既有 Date 中的值又有 Time 中的值，则返回值类型为 LocalDateTime，如果格式字符串中只有 Date 中的值，则返回值类型为 LocalDate，Time 同理</td></tr></tbody></table><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span><span class="token class-name">LocalDateTime</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>format<span class="token punctuation">.</span></span><span class="token class-name">DateTimeFormatter</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">LocalDateTime</span> ldt <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">DateTimeFormatter</span> dtf <span class="token operator">=</span> <span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy MM dd HH:mm:ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 格式化为字符串</span>
    <span class="token class-name">String</span> s <span class="token operator">=</span> ldt<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>dtf<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 2024 05 15 11:03:17</span>
    <span class="token comment">// 解析时间字符串</span>
    <span class="token class-name">LocalDateTime</span> newLdt <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> dtf<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>newLdt<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 2024-05-15T11:03:17</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>除了使用<code>LocalDateTime</code>的成员方法实现格式化和解析外，还可以使用<code>DateTimeFormatter</code>的成员方法实现，但是<code>DateTimeFormatter</code>在解析上操作较为复杂，因此更常使用<code>LocalDateTime</code>的成员方法实现格式化和解析。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span><span class="token class-name">LocalDateTime</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>format<span class="token punctuation">.</span></span><span class="token class-name">DateTimeFormatter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>temporal<span class="token punctuation">.</span></span><span class="token class-name">TemporalAccessor</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">LocalDateTime</span> ldt <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">DateTimeFormatter</span> dtf <span class="token operator">=</span> <span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy MM dd HH:mm:ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 格式化为字符串</span>
    <span class="token class-name">String</span> s <span class="token operator">=</span> dtf<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>ldt<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 2024 05 15 12:10:03</span>
    <span class="token comment">// 解析时间字符串</span>
    <span class="token class-name">TemporalAccessor</span> ta <span class="token operator">=</span> dtf<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ta<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// {},ISO resolved to 2024-05-15T12:10:03</span>
    <span class="token comment">// 将TemporalAccessor类转换为LocalDateTime类</span>
    <span class="token class-name">LocalDateTime</span> newLdt <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>ta<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 2024-05-15T12:10:03</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="java-time-period" tabindex="-1"><a class="header-anchor" href="#java-time-period"><span>java.time.Period</span></a></h2><p><code>Period</code>类用于计算两个<code>LocalDate</code>对象相差的年数、月数、日数。</p><h3 id="_1-period-的常用方法" tabindex="-1"><a class="header-anchor" href="#_1-period-的常用方法"><span>1. Period 的常用方法</span></a></h3><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>public static Period between(LocalDate d1, LocalDate d2)</td><td>传入两个 LocalDate 对象，生成一个 Period 对象（后减前）</td></tr><tr><td>public int getYears()</td><td>获得 Period 对象存储的年数</td></tr><tr><td>public int getMonths()</td><td>获得 Period 对象存储的月数</td></tr><tr><td>public int getDays()</td><td>获得 Period 对象存储的天数</td></tr></tbody></table><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span><span class="token class-name">LocalDate</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span><span class="token class-name">Period</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">LocalDate</span> ldt1 <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2021</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">LocalDate</span> ldt2 <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Period</span> pd <span class="token operator">=</span> <span class="token class-name">Period</span><span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>ldt1<span class="token punctuation">,</span>ldt2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>pd<span class="token punctuation">.</span><span class="token function">getYears</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// -1</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>pd<span class="token punctuation">.</span><span class="token function">getMonths</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// -2</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>pd<span class="token punctuation">.</span><span class="token function">getDays</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// -3，只是日数作差，与年月无关</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="java-time-duration" tabindex="-1"><a class="header-anchor" href="#java-time-duration"><span>java.time.Duration</span></a></h2><p><code>Duration</code>类用于计算两个<code>LocalTime</code>/<code>LocalDateTime</code>/<code>Instant</code>对象相差的天数、小时数、分钟数、秒数、毫秒数、纳秒数。</p><h3 id="_1-duration-的常用方法" tabindex="-1"><a class="header-anchor" href="#_1-duration-的常用方法"><span>1. Duration 的常用方法</span></a></h3><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>public static Duration between(LocalTime t1, LocalTime t2)</td><td>传入两个 LocalTime/LocalDateTime/Instant 对象，生成一个 Duration 对象（后减前）</td></tr><tr><td>public long toDays()</td><td>获得 Duration 对象存储的天数</td></tr><tr><td>public long toHours()</td><td>获得 Duration 对象存储的小时数</td></tr><tr><td>public long toMinutes()</td><td>获得 Duration 对象存储的分钟数</td></tr><tr><td>public long toSeconds()</td><td>获得 Duration 对象存储的秒数</td></tr><tr><td>public long toMillis()</td><td>获得 Duration 对象存储的毫秒数</td></tr><tr><td>public long toNanos()</td><td>获得 Duration 对象存储的纳秒数</td></tr></tbody></table><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span><span class="token class-name">Duration</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span><span class="token class-name">LocalDateTime</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">LocalDateTime</span> ldt1 <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2021</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">38</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">LocalDateTime</span> ldt2 <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2022</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">,</span><span class="token number">27</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Duration</span> dr <span class="token operator">=</span> <span class="token class-name">Duration</span><span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>ldt1<span class="token punctuation">,</span> ldt2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>dr<span class="token punctuation">.</span><span class="token function">toDays</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 300，与年月有关</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="java-util-arrays" tabindex="-1"><a class="header-anchor" href="#java-util-arrays"><span>java.util.Arrays</span></a></h2><p><code>Arrays</code>类是一个工具类，用于对数组进行操作。</p><h3 id="_1-arrays-的常用方法" tabindex="-1"><a class="header-anchor" href="#_1-arrays-的常用方法"><span>1. Arrays 的常用方法</span></a></h3><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>public static String toString(type[] arr)</td><td>将数组内容转换为字符串</td></tr><tr><td>public static type[] copyOfRange(type[] arr, int from, int to)</td><td>截取数组内容，左闭右开，不足的用默认值补齐</td></tr><tr><td>public static type[] copyOf(type[] arr, int length)</td><td>从索引为 0 的元素开始，截取长度为 0 的数组内容</td></tr><tr><td>public static void setAll(int[] array, IntUnaryOperator generator)</td><td>直接修改原数组，参数二使用的接口与参数一的类型相关，详见文档，参数二为需要实现的接口</td></tr><tr><td>public static void sort(type[] arr)</td><td>数组排序，默认升序排序</td></tr><tr><td>public static void sort(T[] a, Comparator&lt;? super T&gt; c)</td><td>引用数据类型的数组排序，参数二为需要实现的接口</td></tr><tr><td>public static int binarySearch(type[] arr, type key)</td><td>二分查找数组中的元素，返回元素在数组中的索引值，找不到则返回-(low + 1)</td></tr></tbody></table><h3 id="_2-引用数据类型的数组应如何排序" tabindex="-1"><a class="header-anchor" href="#_2-引用数据类型的数组应如何排序"><span>2. 引用数据类型的数组应如何排序</span></a></h3><p>引用数据类型的数组的排序有两种实现方式：一是让引用数据类型自身实现<code>Comparable</code>接口，重写其中的<code>compareTo</code>方法；二是在排序时传入第二个参数，创建匿名内部类实现<code>Comparator</code>接口，重写其中的<code>compare</code>方法。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Comparator</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Teacher</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Teacher</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Teacher</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">,</span><span class="token number">29.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Teacher</span><span class="token punctuation">(</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">23.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Teacher</span><span class="token punctuation">(</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">24.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Teacher</span><span class="token punctuation">(</span><span class="token string">&quot;d&quot;</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">20.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 使用了Teacher类重写的compareTo方法</span>
    <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 注意点1: Comparator接口的泛型需要与arr的类型保持一致（小部分情况下也可以是父类）</span>
    <span class="token comment">// 注意点2: 降序排序的书写方式</span>
    <span class="token comment">// 注意点3: 方法调用遵循就近原则，因此匿名内部类重写的compare方法的优先级高于Teacher类中重写的compareTo方法</span>
    <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Teacher</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token class-name">Teacher</span> o1<span class="token punctuation">,</span> <span class="token class-name">Teacher</span> o2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">Double</span><span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span>o2<span class="token punctuation">.</span><span class="token function">getSalary</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> o1<span class="token punctuation">.</span><span class="token function">getSalary</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 需要实现Comparable接口</span>
<span class="token keyword">class</span> <span class="token class-name">Teacher</span> <span class="token keyword">implements</span> <span class="token class-name">Comparable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Teacher</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">double</span> salary<span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token class-name">Teacher</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token class-name">Teacher</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">,</span> <span class="token keyword">double</span> salary<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>salary <span class="token operator">=</span> salary<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAge</span><span class="token punctuation">(</span><span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> age<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setSalary</span><span class="token punctuation">(</span><span class="token keyword">double</span> salary<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>salary <span class="token operator">=</span> salary<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getSalary</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> salary<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;Teacher{&quot;</span> <span class="token operator">+</span>
      <span class="token string">&quot;name=&#39;&quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token char">&#39;\&#39;&#39;</span> <span class="token operator">+</span>
      <span class="token string">&quot;, age=&quot;</span> <span class="token operator">+</span> age <span class="token operator">+</span>
      <span class="token string">&quot;, salary=&quot;</span> <span class="token operator">+</span> salary <span class="token operator">+</span>
      <span class="token char">&#39;}&#39;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compareTo</span><span class="token punctuation">(</span><span class="token class-name">Teacher</span> o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 注意点1: this.compareTo(Teacher o)进行比较，如果return一个正数表示this比o大，负数则表示this比o小，0表示相等</span>
    <span class="token comment">// 注意点2: 整型和浮点型可以直接使用包装类的compare方法进行比较</span>
    <span class="token comment">// 注意点3: 英文字符串则需要使用String类的compareTo实例方法，如 this.name.CompareTo(o.name)，根据ASCII码比较</span>
    <span class="token keyword">return</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">,</span> o<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="lambda-表达式" tabindex="-1"><a class="header-anchor" href="#lambda-表达式"><span>Lambda 表达式</span></a></h2><h3 id="_1-什么是-lambda-表达式" tabindex="-1"><a class="header-anchor" href="#_1-什么是-lambda-表达式"><span>1. 什么是 Lambda 表达式</span></a></h3><p>Lambda 表达式是 JDK8 新增的一种语法格式，用于<strong>简化匿名内部类</strong>的代码写法。</p><h3 id="_2-什么是函数式接口" tabindex="-1"><a class="header-anchor" href="#_2-什么是函数式接口"><span>2. 什么是函数式接口</span></a></h3><p>函数式接口（@FunctionalInterface）是指<strong>有且仅有一个抽象方法</strong>的接口。</p><h3 id="_3-使用-lambda-表达式简化匿名内部类的前提是什么" tabindex="-1"><a class="header-anchor" href="#_3-使用-lambda-表达式简化匿名内部类的前提是什么"><span>3. 使用 Lambda 表达式简化匿名内部类的前提是什么</span></a></h3><p>Lambda 表达式只能用于<strong>实现了函数式接口的匿名内部类</strong>，即该匿名内部类只有一个抽象方法。</p><h3 id="_4-lambda-表达式的书写格式及要点" tabindex="-1"><a class="header-anchor" href="#_4-lambda-表达式的书写格式及要点"><span>4. Lambda 表达式的书写格式及要点</span></a></h3><p>Lambda 表达式的书写格式为<code>(方法参数列表) -&gt; { 方法体 }</code>。</p><p>参数列表的<strong>参数类型可以省略</strong>，参数列表中<strong>只有一个参数</strong>时，<strong>小括号可以省略</strong>。</p><p>当方法体<strong>只有一条语句</strong>时，<strong>大括号可以省略</strong>。</p><p>当方法体<strong>只有 return 语句</strong>时，可以<strong>只保留返回值</strong>，省略方法体的其他所有内容，包括大括号本身。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Teacher</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token class-name">Teacher</span> o1<span class="token punctuation">,</span> <span class="token class-name">Teacher</span> o2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Double</span><span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span>o2<span class="token punctuation">.</span><span class="token function">getSalary</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> o1<span class="token punctuation">.</span><span class="token function">getSalary</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 使用Lambda表达式可以转换为</span>
<span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token punctuation">(</span>o1<span class="token punctuation">,</span> o2<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Double</span><span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span>o2<span class="token punctuation">.</span><span class="token function">getSalary</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> o1<span class="token punctuation">.</span><span class="token function">getSalary</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="方法引用-method-reference" tabindex="-1"><a class="header-anchor" href="#方法引用-method-reference"><span>方法引用（method reference）</span></a></h2><h3 id="_1-什么是方法引用" tabindex="-1"><a class="header-anchor" href="#_1-什么是方法引用"><span>1. 什么是方法引用</span></a></h3><p>方法引用是 JDK8 新增的一种语法格式，用于<strong>简化 Lambda 表达式</strong>的代码写法。方法引用主要分为四种，分别是对<strong>静态方法</strong>的引用，对<strong>实例方法</strong>的引用，对<strong>特定类型方法</strong>的引用和对<strong>构造器</strong>的引用。<code>::</code>是方法引用的标志性符号。</p><h3 id="_2-静态方法引用" tabindex="-1"><a class="header-anchor" href="#_2-静态方法引用"><span>2. 静态方法引用</span></a></h3><p>静态方法引用的格式为<code>类名::静态方法名</code>，当某个 Lambda 表达式的方法体<strong>只有一个语句</strong>，该语句<strong>只调用了一个静态方法</strong>，且该静态方法的参数列表与 Lambda 表达式的<strong>参数列表相同</strong>时，就可以使用静态方法引用简化该 Lambda 表达式。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">interface</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
  <span class="token keyword">void</span> <span class="token function">useStaticMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// TestClass类与A接口和Test.call方法均无关，但却能借助它来调用Test.call方法</span>
<span class="token comment">// 因为A接口有且仅有一个抽象方法useStaticMethod，该方法无参，同时TestClass类的callStaticMethod也是一个无参方法，参数列表相同，符合方法引用的前提</span>
<span class="token keyword">class</span> <span class="token class-name">TestClass</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">callStaticMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">call</span><span class="token punctuation">(</span><span class="token class-name">TestClass</span><span class="token operator">::</span><span class="token function">callStaticMethod</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// hello</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token class-name">A</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    a<span class="token punctuation">.</span><span class="token function">useStaticMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-实例方法引用" tabindex="-1"><a class="header-anchor" href="#_3-实例方法引用"><span>3. 实例方法引用</span></a></h3><p>实例方法引用的格式为<code>对象名:实例方法名</code>，实例方法引用使用的前提与静态方法引用类似，区别在于实例方法引用要求的是<strong>调用实例方法</strong>而非静态方法。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">interface</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
  <span class="token keyword">void</span> <span class="token function">useInstanceMethod</span><span class="token punctuation">(</span><span class="token keyword">int</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">TestClass</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">callInstanceMethod</span><span class="token punctuation">(</span><span class="token keyword">int</span> num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">TestClass</span> tc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TestClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">call</span><span class="token punctuation">(</span>tc<span class="token operator">::</span><span class="token function">callInstanceMethod</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 6</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token class-name">A</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    a<span class="token punctuation">.</span><span class="token function">useInstanceMethod</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-特定类型方法引用" tabindex="-1"><a class="header-anchor" href="#_4-特定类型方法引用"><span>4. 特定类型方法引用</span></a></h3><p>特定类型方法引用的格式为<code>首参类型::成员方法名</code>，特定类型方法引用也要求方法体只调用了一个成员方法，不同的是，Lambda 表达式的参数列表中的<strong>第一个参数将会作为该成员方法的调用者</strong>，<strong>其他参数再构成该成员方法的参数列表</strong>。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">interface</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
  <span class="token keyword">void</span> <span class="token function">useInstanceMethod</span><span class="token punctuation">(</span><span class="token class-name">TestClass</span> tc<span class="token punctuation">,</span> <span class="token keyword">int</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">TestClass</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">callInstanceMethod</span><span class="token punctuation">(</span><span class="token keyword">int</span> num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">TestClass</span> tc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TestClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">call</span><span class="token punctuation">(</span><span class="token class-name">TestClass</span><span class="token operator">::</span><span class="token function">callInstanceMethod</span><span class="token punctuation">,</span> tc<span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 6</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token class-name">A</span> a<span class="token punctuation">,</span> <span class="token class-name">TestClass</span> tc<span class="token punctuation">,</span> <span class="token keyword">int</span> num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 注意与实例方法引用区分，特定类型引用传入的第一个参数会变成方法的调用者，相当于tc.callInstanceMethod(num)</span>
    a<span class="token punctuation">.</span><span class="token function">useInstanceMethod</span><span class="token punctuation">(</span>tc<span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_5-构造器引用" tabindex="-1"><a class="header-anchor" href="#_5-构造器引用"><span>5. 构造器引用</span></a></h3><p>构造器引用的格式为<code>类名::new</code>，构造器引用要求方法体中只使用了构造器构造对象，且该构造器的参数列表与 Lambda 表达式的<strong>参数列表相同</strong>。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">interface</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
  <span class="token class-name">TestClass</span> <span class="token function">useConstructorMethod</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">TestClass</span> <span class="token punctuation">{</span>
  <span class="token class-name">String</span> name<span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token class-name">TestClass</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token class-name">TestClass</span> <span class="token function">createTestClass</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">TestClass</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token class-name">TestClass</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">,</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// hello</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">TestClass</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token class-name">A</span> a<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a<span class="token punctuation">.</span><span class="token function">useConstructorMethod</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_6-总结" tabindex="-1"><a class="header-anchor" href="#_6-总结"><span>6. 总结</span></a></h3><p>书写一个方法引用的简单例子的步骤：1. 定义一个仅有一个抽象方法的接口（函数式接口）；2. 在测试类中定义一个以该接口为参数的方法，通过该接口参数调用接口中的方法（注意，因为接口不可以调用方法，因此我们需要一个匿名内部类来调用该方法）；3. 此时我们又不想定义匿名内部类，因此需要找到一个具有与接口定义的抽象方法参数列表相同的方法，引用该方法去调用抽象方法，因此我们定义一个新的类，类中创建一个与抽象方法参数列表相同的成员方法；4. 调用步骤 2 在测试类中创建的方法，接口参数为方法引用，用这个方法引用去模仿这个接口的行为。</p><h2 id="正则表达式-regular-expression" tabindex="-1"><a class="header-anchor" href="#正则表达式-regular-expression"><span>正则表达式（regular expression）</span></a></h2><h3 id="_1-什么是正则表达式" tabindex="-1"><a class="header-anchor" href="#_1-什么是正则表达式"><span>1. 什么是正则表达式</span></a></h3><p>正则表达式是用于<strong>匹配字符串中字符组合的模式</strong>。</p><h3 id="_2-正则表达式的特殊字符有什么含义" tabindex="-1"><a class="header-anchor" href="#_2-正则表达式的特殊字符有什么含义"><span>2. 正则表达式的特殊字符有什么含义</span></a></h3><table><thead><tr><th>特殊字符</th><th>含义</th></tr></thead><tbody><tr><td>\（反斜杠）</td><td>\ + 非特殊字符 = 特殊字符（\ + n = \n 表示换行）；\ + 特殊字符 = 非特殊字符（\ + \n = \n 表示为字符串，不进行转义）；创建正则表达式时，由于参数是一个字符串，且在字符串中反斜杠会被当作转义字符，因此需要在反斜杠前增加一个反斜杠表示不进行转义</td></tr><tr><td>^（脱字符）</td><td>^匹配输入的开始，当多行标志被设置为 true 时，也匹配换行符后紧跟的位置</td></tr><tr><td>$</td><td>$匹配输入的结束，当多行标志被设置为 true 时，也匹配换行符前的位置</td></tr><tr><td>{n}</td><td>n 为正整数，表示前一个字符刚好出现 n 次</td></tr><tr><td>{n,}</td><td>n 为正整数，表示前一个字符至少出现 n 次</td></tr><tr><td>{n,m}</td><td>n 和 m 都是正整数，表示前一个字符至少出现 n 次，最多出现 m 次</td></tr><tr><td>*</td><td>*等价于{0,}</td></tr><tr><td>+</td><td>+等价于{1,}</td></tr><tr><td>?</td><td>?等价于{0,1}</td></tr><tr><td>.</td><td>.默认匹配除换行符之外的任何单个字符</td></tr><tr><td>a|b</td><td>a|b 匹配 a 或 b</td></tr><tr><td>[xyz]</td><td>[xyz]表示一个字符合集，可以匹配[]中的任意一个字符；可以使用-指定一个字符范围，如[0-9]表示匹配 0 到 9 中的任意一个字符</td></tr><tr><td>[^xyz]</td><td>[^xyz]表示一个反向字符合集，可以匹配[]之外的任意一个字符；可以使用-指定一个字符范围，如[ ^0-9]表示匹配 0 到 9 之外的任意一个字符</td></tr><tr><td>(x)</td><td>(x)表示匹配 x 并且记住匹配项，称为捕获组，括号称为捕获括号</td></tr><tr><td>(?:x)</td><td>(?:x)表示匹配 x 但不记住匹配项，称为非捕获组，括号称为非捕获括号</td></tr><tr><td>\w</td><td>\w 匹配一个单字字符（字母、数字、下划线），等价于[0-9a-zA-Z_]</td></tr><tr><td>\W</td><td>\W 匹配一个非单字字符（字母、数字、下划线），等价于[ ^0-9a-zA-Z_]</td></tr><tr><td>\b</td><td>\b 匹配一个词的边界，一个词的边界是指匹配内容之前/后不是一个字（\w）</td></tr><tr><td>\B</td><td>\B 匹配一个非词边界</td></tr><tr><td>\d</td><td>\d 匹配一个数字，等价于[0-9]</td></tr><tr><td>\D</td><td>\D 匹配一个非数字，等价于[ ^0-9]</td></tr><tr><td>\s</td><td>\s 匹配一个空白字符，包括空格、制表符（\t、\v）、换页符（\f）、换行符（\n）、回车符（\r），等价于[\f\n\r\t\v\u0020\u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]</td></tr><tr><td>\S</td><td>\s 匹配一个非空白字符，等价于[ ^\f\n\r\t\v\u0020\u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]</td></tr><tr><td>x(?=y)</td><td>x(?=y) 匹配 x 当且仅当 x 后面紧跟着 y，这种模式被称为先行断言</td></tr><tr><td>(?&lt;=y)x</td><td>(?&lt;=y)x 匹配 x 当且仅当 x 前面紧跟着 y，这种模式被称为后行断言</td></tr><tr><td>x(?!y)</td><td>x(?!y) 匹配 x 当且仅当 x 后面不是紧跟着 y，这种模式被称为正向否定查找</td></tr><tr><td>(?&lt;!y)x</td><td>(?&lt;!y)x 匹配 x 当且仅当 x 前面不是紧跟着 y，这种模式被称为反向否定查找</td></tr><tr><td>a&amp;&amp;b</td><td>匹配同时满足 a 和 b 的字符串</td></tr></tbody></table><h3 id="_3-如何使用正则表达式" tabindex="-1"><a class="header-anchor" href="#_3-如何使用正则表达式"><span>3. 如何使用正则表达式</span></a></h3><p><code>String</code>类的多个成员方法可以使用正则表达式来操作字符串，如下所示：</p><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>public boolean matches(String regexp)</td><td>判断字符串是否符合正则表达式的规则</td></tr><tr><td>public String replaceAll(String regexp, String newstr)</td><td>将字符串中符合正则表达式规则的内容替换为新字符串</td></tr><tr><td>public String[] split(String regexp)</td><td>将字符串中符合正则表达式规则的内容作为分隔符分割数组</td></tr></tbody></table><h3 id="_4-java-util-regex-matcher-和-java-util-regex-pattern" tabindex="-1"><a class="header-anchor" href="#_4-java-util-regex-matcher-和-java-util-regex-pattern"><span>4. java.util.regex.Matcher 和 java.util.regex.Pattern</span></a></h3><p><code>Pattern</code>类可以用于创建一个带有正则表达式的对象，<code>Matcher</code>类用于接收正则表达式与字符串的匹配结果对象，使用方式如下：</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">Pattern</span> p <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token string">&quot;hello|world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Matcher</span> m <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span><span class="token string">&quot;hello world!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">String</span> group <span class="token operator">=</span> m<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>group<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// hello world</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="单列集合-java-util-collection" tabindex="-1"><a class="header-anchor" href="#单列集合-java-util-collection"><span>单列集合（java.util.Collection）</span></a></h2><p><img src="/assets/collection-CE-k0qJv.png" alt="单列集合图"></p><h3 id="_1-什么是单列集合" tabindex="-1"><a class="header-anchor" href="#_1-什么是单列集合"><span>1. 什么是单列集合</span></a></h3><p>单列集合是指集合中的每个元素只存储一个数据的集合，单列集合主要可以分为<code>Set</code>和<code>List</code>两种类型。</p><h3 id="_2-单列集合的常用方法" tabindex="-1"><a class="header-anchor" href="#_2-单列集合的常用方法"><span>2. 单列集合的常用方法</span></a></h3><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>public boolean add(E e)</td><td>将指定的元素添加到单列集合中，返回值为是否添加成功</td></tr><tr><td>public boolean remove(E e)</td><td>将指定的元素从单列集合中删除，返回值为是否删除成功</td></tr><tr><td>public void clear()</td><td>清空单列集合</td></tr><tr><td>public boolean contains(Object o)</td><td>判断单列集合中是否存在某个元素</td></tr><tr><td>public boolean isEmpty()</td><td>判断单列集合是否为空</td></tr><tr><td>public int size()</td><td>返回单列集合的大小</td></tr><tr><td>public Object[] toArray()</td><td>将单列集合转换为数组</td></tr></tbody></table><h3 id="_3-如何遍历单列集合" tabindex="-1"><a class="header-anchor" href="#_3-如何遍历单列集合"><span>3. 如何遍历单列集合</span></a></h3><h4 id="使用迭代器遍历" tabindex="-1"><a class="header-anchor" href="#使用迭代器遍历"><span>使用迭代器遍历</span></a></h4><p>迭代器是专门用来<strong>遍历集合</strong>的专用方式，Java 中常用<code>Collection</code>接口的<code>iterator</code>方法创建迭代器对象，通过迭代器对象获取集合的元素时，如果元素越界会抛出<strong>NoSuchElementExceptio</strong>n 异常，如下所示：</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> i <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// 判断迭代器对象是否还有迭代完成</span>
      <span class="token class-name">String</span> e <span class="token operator">=</span> i<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// next方法完成两个步骤，一是将当前迭代器对应的元素的值赋值给e，二是移动迭代器指针，将指针移动到下个元素</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="使用增强-for-遍历" tabindex="-1"><a class="header-anchor" href="#使用增强-for-遍历"><span>使用增强 for 遍历</span></a></h4><p>增强 for 可以用来<strong>遍历集合和数组</strong>，使用增强 for<strong>遍历集合</strong>，底层是使用<strong>迭代器</strong>实现的，使用增强 for<strong>遍历数组</strong>，底层是使用<strong>普通 for</strong>实现的。增强 for 的格式为<code>for(元素类型 变量名 : 集合名)</code>。使用增强 for 遍历数组很方便，但<strong>难以获取索引值</strong>。</p><h4 id="使用-foreach-遍历" tabindex="-1"><a class="header-anchor" href="#使用-foreach-遍历"><span>使用 forEach 遍历</span></a></h4><p><code>forEach</code>方法可以用来<strong>遍历集合</strong>，常常与 Lambda 表达式配合使用，如下所示：</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> col <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
col<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
col<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
col<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>ele <span class="token operator">-&gt;</span> <span class="token punctuation">{</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ele<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// col.forEach(System.out::println);</span>
</code></pre></div><h2 id="java-util-list" tabindex="-1"><a class="header-anchor" href="#java-util-list"><span>java.util.List</span></a></h2><p><code>List</code>是实现了<code>Collection</code>接口的接口。<code>List</code>接口的集合有三大特点：<strong>有序</strong>、<strong>元素可重复</strong>、<strong>有索引</strong>，<code>List</code>接口主要有两个实现类，分别是<code>java.util.ArrayList</code>和<code>java.util.LinkedList</code>。<code>List</code>接口在实现<code>Collection</code>接口时增加了一些与索引相关的方法，如下所示：</p><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>public void add(int index, E e)</td><td>在集合的指定索引处新增元素</td></tr><tr><td>public E remove(E e)</td><td>将指定元素从集合中删除，返回被删除的元素</td></tr><tr><td>public E set(int index, E e)</td><td>修改集合指定索引处的元素，返回被修改的元素</td></tr><tr><td>public E get(int index)</td><td>获取集合指定索引处的元素的值</td></tr></tbody></table><h2 id="java-util-arraylist" tabindex="-1"><a class="header-anchor" href="#java-util-arraylist"><span>java.util.ArrayList</span></a></h2><p><code>ArrayList</code>是有序、元素可重复、有索引的。</p><h3 id="_1-arraylist-类的常用方法" tabindex="-1"><a class="header-anchor" href="#_1-arraylist-类的常用方法"><span>1. ArrayList 类的常用方法</span></a></h3><p><code>Collection</code>接口和<code>List</code>接口中实现的方法<code>ArrayList</code>类都可以使用。</p><h3 id="_2-arraylist-相比于数组有什么优点" tabindex="-1"><a class="header-anchor" href="#_2-arraylist-相比于数组有什么优点"><span>2. ArrayList 相比于数组有什么优点</span></a></h3><ol><li><code>ArrayList</code>的大小是可变的。 2. <code>ArrayList</code>提供了大量用于增删改查的方法，操作简单。</li></ol><h3 id="_3-arraylist-底层原理是什么" tabindex="-1"><a class="header-anchor" href="#_3-arraylist-底层原理是什么"><span>3. ArrayList 底层原理是什么</span></a></h3><p><code>ArrayList</code>底层是<strong>基于数组</strong>实现的，因此<code>ArrayList</code>根据索引<strong>查找速度快</strong>、<strong>增加和删除效率低</strong>。</p><p>利用<strong>无参构造器</strong>创建的<code>ArrayList</code>对象，会在底层创建一个<strong>默认长度为 0 的数组</strong>；</p><p>向<code>ArrayList</code>对象<strong>添加第一个元素</strong>时，底层会创建一个<strong>新的长度为 10 的数组</strong>；</p><p>当<code>ArrayList</code>对象<strong>存满</strong>时，<code>ArrayList</code>对象的<code>size</code>会自动<strong>变为原来的 1.5 倍</strong>，空元素会自动被赋值为 null。（如果 1.5 倍是一个浮点数，则向下取整）</p><h2 id="java-util-linkedlist" tabindex="-1"><a class="header-anchor" href="#java-util-linkedlist"><span>java.util.LinkedList</span></a></h2><p><code>LinkedList</code>是有序、元素可重复、有索引的。</p><h3 id="_1-linkedlist-类的常用方法" tabindex="-1"><a class="header-anchor" href="#_1-linkedlist-类的常用方法"><span>1. LinkedList 类的常用方法</span></a></h3><p><code>Collection</code>接口和<code>List</code>接口中实现的方法<code>LinkedList</code>类都可以使用，除此之外，由于链表<strong>对首尾的节点进行增删操作的效率很高</strong>，因此 Java 为<code>LinkedList</code>增加了很多首尾操作的特有方法（通过这些方法可以快速设计一个栈结构或队列结构），如下所示：</p><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>public void addFirst(E e)</td><td>在链表的开头添加指定的元素</td></tr><tr><td>public void addLast(E e)</td><td>在链表的结尾添加指定的元素</td></tr><tr><td>public E getFirst()</td><td>获取链表开头的元素</td></tr><tr><td>public E getLast()</td><td>获取链表结尾的元素</td></tr><tr><td>public E removeFirst()</td><td>删除链表开头的元素</td></tr><tr><td>public E removeLast()</td><td>删除链表结尾的元素</td></tr></tbody></table><h3 id="_2-linkedlist-底层原理是什么" tabindex="-1"><a class="header-anchor" href="#_2-linkedlist-底层原理是什么"><span>2. LinkedList 底层原理是什么</span></a></h3><p><code>LinkedList</code>底层是<strong>基于双链表</strong>实现的，因此<code>LinkedList</code><strong>增加和删除效率高</strong>，<strong>查找速度较慢</strong>。</p><h2 id="java-util-set" tabindex="-1"><a class="header-anchor" href="#java-util-set"><span>java.util.Set</span></a></h2><p><code>Set</code>是实现了<code>Collection</code>接口的接口。<code>Set</code>接口的集合有三大特点：<strong>无序</strong>、<strong>元素不可重复</strong>、<strong>无索引</strong>，<code>Set</code>接口主要有三个实现类，分别是<code>java.util.HashSet</code>、<code>java.util.LinkedHashSet</code>和<code>java.util.TreeSet</code>。<code>Set</code>接口几乎没有设计新的方法，常用方法都是由<code>Collection</code>接口提供的。</p><h2 id="java-util-hashset" tabindex="-1"><a class="header-anchor" href="#java-util-hashset"><span>java.util.HashSet</span></a></h2><p><code>HashSet</code>是无序、元素不可重复、无索引的。</p><h3 id="_1-什么是哈希值" tabindex="-1"><a class="header-anchor" href="#_1-什么是哈希值"><span>1. 什么是哈希值</span></a></h3><p>哈希值就是一个<code>int</code>类型的数值，Java 中每个对象都有一个哈希值，可以通过<code>Object</code>类提供的<code>public int hashCode()</code>方法获取对象的哈希值。不同的对象的哈希值一般不同，但可能会出现哈希碰撞，出现不同对象哈希值相同的情况。</p><h3 id="hashset-底层原理是什么" tabindex="-1"><a class="header-anchor" href="#hashset-底层原理是什么"><span>HashSet 底层原理是什么</span></a></h3><p><code>HashSet</code>是<strong>基于哈希表</strong>实现的，哈希表在增删改查的性能表现都较好。在 JDK8 之前，Java 的哈希表是由<strong>数组加链表</strong>构成的，在 JDK8 之后，Java 在数组加链表的基础上增加了<strong>红黑树</strong>，当<strong>链表的长度超过 8</strong>，且<strong>数组长度超过 64</strong>时（不利于元素的查找），就会采用红黑树代替链表结构。<code>HashSet</code>在添加元素时内部会根据哈希算法（存入位置=哈希值%数组长度）计算出元素应存入的位置。 <img src="/assets/hashtable-B81Z02Th.png" alt="哈希表"></p><h3 id="简述哈希表存储元素的过程" tabindex="-1"><a class="header-anchor" href="#简述哈希表存储元素的过程"><span>简述哈希表存储元素的过程</span></a></h3><ol><li>创建一个<strong>默认长度为 16</strong>、<strong>默认加载因子为 0.75</strong>、数组名为 table 的数组</li><li>根据 <code>hashCode()</code>的值和数组的长度计算元素在数组中的位置</li><li>如果这个位置是否为 null，是则直接存储；不是则调用 <code>equals()</code>判断两个元素是否相等，不相等则存储，相等则不存储</li><li>当数组存满到 16*0.75=12 时，就会自动扩容到<strong>原数组长度的两倍</strong></li></ol><p>注: 在 JDK8 之前，新元素插入链表时采用头插法，即新元素作为链表的起点，JDK8 之后则采用尾插法，新元素插入到链表的尾部。</p><h3 id="存储自定义类的-hashset-应该如何实现元素的去重" tabindex="-1"><a class="header-anchor" href="#存储自定义类的-hashset-应该如何实现元素的去重"><span>存储自定义类的 HashSet 应该如何实现元素的去重</span></a></h3><p>重写自定义类的<code>hashCode()</code>方法和<code>equals()</code>方法。</p><h2 id="java-util-linkedhashset" tabindex="-1"><a class="header-anchor" href="#java-util-linkedhashset"><span>java.util.LinkedHashSet</span></a></h2><p><code>LinkedHashSet</code>是有序、元素不可重复、无索引的。</p><h3 id="_1-linkedhashset-底层原理是什么" tabindex="-1"><a class="header-anchor" href="#_1-linkedhashset-底层原理是什么"><span>1. LinkedHashSet 底层原理是什么</span></a></h3><p>与<code>HashSet</code>类似，<code>LinkedHashSet</code>也是基于哈希表（数组+链表+红黑树）实现的，不同的是，<code>LinkedHashSet</code>的每个元素都额外增加了一个<strong>双链表机制</strong>，用于记录每个元素对应的前后元素（因此说<code>LinkedHashSet</code>是有序的）。</p><h2 id="java-util-treeset" tabindex="-1"><a class="header-anchor" href="#java-util-treeset"><span>java.util.TreeSet</span></a></h2><p><code>TreeSet</code>是可排序（默认升序）、元素不可重复、无索引的。</p><h3 id="_1-treeset-底层原理是什么" tabindex="-1"><a class="header-anchor" href="#_1-treeset-底层原理是什么"><span>1. TreeSet 底层原理是什么</span></a></h3><p><code>TreeSet</code>底层是基于红黑树实现的排序，对于字符串类型，按照首字符的编码升序排序，对于自定义类，则需要通过类实现<code>Comparable</code>接口或者调用<code>TreeSet</code>的含参构造器设置<code>Comparator</code>对象来实现排序功能。</p><h2 id="并发修改异常-concurrentmodificationexception" tabindex="-1"><a class="header-anchor" href="#并发修改异常-concurrentmodificationexception"><span>并发修改异常（ConcurrentModificationException）</span></a></h2><h3 id="_1-什么情况下会抛出并发修改异常" tabindex="-1"><a class="header-anchor" href="#_1-什么情况下会抛出并发修改异常"><span>1. 什么情况下会抛出并发修改异常</span></a></h3><p>在<strong>使用迭代器对象遍历集合</strong>的过程中尝试<strong>删除集合中的内容</strong>，就会抛出并发修改异常。此外，<strong>增强 for 的底层原理也使用了迭代器</strong>，因此，在增强 for 中应尽量避免删除正在被遍历的集合的元素，如下所示就是一个典型的并发修改异常：</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> itr <span class="token operator">=</span> coll<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>itr<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">String</span> name <span class="token operator">=</span> itr<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ConcurrentModificationException: 并发修改异常</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>name<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;张&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    coll<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-如何解决并发修改异常" tabindex="-1"><a class="header-anchor" href="#_2-如何解决并发修改异常"><span>2. 如何解决并发修改异常</span></a></h3><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">// 迭代器遍历，迭代器删除</span>
<span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> itr <span class="token operator">=</span> coll<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>itr<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">String</span> name <span class="token operator">=</span> itr<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ConcurrentModificationException: 并发修改异常</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>name<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;张&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    itr<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 使用迭代器删除元素</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">// 集合遍历，集合删除</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> coll<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">String</span> name <span class="token operator">=</span> coll<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>name<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;张&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    coll<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    i<span class="token operator">--</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="排序算法" tabindex="-1"><a class="header-anchor" href="#排序算法"><span>排序算法</span></a></h2><h3 id="_1-冒泡排序" tabindex="-1"><a class="header-anchor" href="#_1-冒泡排序"><span>1. 冒泡排序</span></a></h3><p>冒泡排序的思想是通过比较相邻的元素并交换它们，从而将数组中的较大元素逐步冒泡到右侧。在一轮比较后，最大的元素会移动到数组的末尾。这个过程重复执行，直到数组完全排序。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token function">bubbleSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">bubbleSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">-</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">int</span> temp <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          arr<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
          arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> arr<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-选择排序" tabindex="-1"><a class="header-anchor" href="#_2-选择排序"><span>2. 选择排序</span></a></h3><p>选择排序的思想是在未排序部分找到最小（或最大）元素，然后将其放置在已排序部分的末尾。这样，数组逐步被分割为已排序和未排序两部分，直到所有元素都被排序完成。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token function">selectionSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">selectionSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">int</span> temp <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
          arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
          arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> arr<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="查找算法" tabindex="-1"><a class="header-anchor" href="#查找算法"><span>查找算法</span></a></h2><h3 id="_1-折半查找" tabindex="-1"><a class="header-anchor" href="#_1-折半查找"><span>1. 折半查找</span></a></h3><p>折半查找，也称为二分查找，是一种高效的搜索算法，适用于<strong>已排序</strong>的数组。其思想是将要查找的值与数组中间的元素进行比较，如果相等则返回；如果要查找的值较小，则在左侧子数组中继续查找；如果要查找的值较大，则在右侧子数组中继续查找。这个过程重复执行，直到找到要查找的值或确定值不在数组中。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">binarySearch</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> ele<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">binarySearch</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> ele<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> right <span class="token operator">=</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>left <span class="token operator">&lt;=</span> right<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>left <span class="token operator">+</span> right<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">==</span> ele<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> mid<span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&gt;</span> ele<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        right <span class="token operator">=</span> mid<span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        left <span class="token operator">=</span> mid<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="可变参数" tabindex="-1"><a class="header-anchor" href="#可变参数"><span>可变参数</span></a></h2><h3 id="_1-什么是可变参数" tabindex="-1"><a class="header-anchor" href="#_1-什么是可变参数"><span>1. 什么是可变参数</span></a></h3><p>可变参数是一种特殊的参数格式，书写格式为<code>参数类型 ...参数名</code>。在参数列表中使用可变参数可以灵活控制传递参数的个数，用较少的代码量实现方法重载的效果。可变参数本质上就是一个<strong>参数数组</strong>，可以使用循环对象参数数组进行遍历。</p><h3 id="_2-可变参数的注意事项" tabindex="-1"><a class="header-anchor" href="#_2-可变参数的注意事项"><span>2. 可变参数的注意事项</span></a></h3><ol><li>一个参数列表中<strong>只能有一个可变参数</strong></li><li>可变参数可以与其它普通参数一起使用，但可变参数<strong>只能写在参数列表的最后</strong></li></ol><h2 id="java-util-collections" tabindex="-1"><a class="header-anchor" href="#java-util-collections"><span>java.util.Collections</span></a></h2><p><code>Collections</code>类是一个工具类，用于操作集合。</p><h3 id="_1-collections-类的常用方法" tabindex="-1"><a class="header-anchor" href="#_1-collections-类的常用方法"><span>1. Collections 类的常用方法</span></a></h3><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>public static &lt;T&gt; boolean addAll(Collection&lt;? super T&gt; c, T ...elements)</td><td>给集合对象批量添加元素，返回是否添加成功</td></tr><tr><td>public static void shuffle(List&lt;?&gt; list)</td><td>打乱 List 对象中的元素</td></tr><tr><td>public static &lt;T&gt; void sort(List&lt;T&gt; list)</td><td>对 List 对象中的元素进行排序，如果对自定义类的集合使用该方法，自定义类需要实现 Comparable 接口</td></tr><tr><td>public static &lt;T&gt; void sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; c)</td><td>根据比较器对 List 对象中的元素进行排序</td></tr></tbody></table><h2 id="双列集合-java-util-map" tabindex="-1"><a class="header-anchor" href="#双列集合-java-util-map"><span>双列集合（java.util.map）</span></a></h2><p><img src="/assets/map-C2knCJSZ.png" alt="双列集合图"></p><h3 id="_1-什么是双列集合" tabindex="-1"><a class="header-anchor" href="#_1-什么是双列集合"><span>1. 什么是双列集合</span></a></h3><p>双列集合是指集合中的每个元素都是一对<code>key-value</code>的键值对（entry），因此双列集合也被称为键值对集合，集合中<strong>每个键都是唯一的</strong>，值可以重复。</p><h3 id="_2-双列集合的常用方法" tabindex="-1"><a class="header-anchor" href="#_2-双列集合的常用方法"><span>2. 双列集合的常用方法</span></a></h3><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>public V put(K key, V value)</td><td>向集合对象中添加新的元素</td></tr><tr><td>public V remove(Object key)</td><td>根据键删除集合对象中的键值对</td></tr><tr><td>public V get(Object key)</td><td>根据键获取集合对象中对应的键值对</td></tr><tr><td>public int size()</td><td>获取集合对象的大小</td></tr><tr><td>public void clear()</td><td>清空集合对象</td></tr><tr><td>public boolean isEmpty()</td><td>判断集合对象是否为空</td></tr><tr><td>public boolean containsKey(Object key)</td><td>判断集合对象中是否包含某个键</td></tr><tr><td>public boolean containsValue(Object key)</td><td>判断集合对象中是否包含某个值</td></tr><tr><td>public Set&lt;K&gt; keySet()</td><td>获取集合对象的键构成的 Set 集合</td></tr><tr><td>public Collection&lt;V&gt; values()</td><td>获取集合对象的值构成的 Collection 集合</td></tr><tr><td>public default V getOrDefault(Object key, V defaultValue)</td><td>根据键获取集合对象中对应的键值对，如果查找不到该键则返回默认值</td></tr><tr><td>public Set&lt;Map.Entry&lt;K, V&gt;&gt; entrySet()</td><td>返回一个可以查看集合对象映射关系的 Set 集合</td></tr></tbody></table><h3 id="_3-如何遍历双列集合" tabindex="-1"><a class="header-anchor" href="#_3-如何遍历双列集合"><span>3. 如何遍历双列集合</span></a></h3><h4 id="根据键的集合遍历" tabindex="-1"><a class="header-anchor" href="#根据键的集合遍历"><span>根据键的集合遍历</span></a></h4><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;B&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;C&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> s <span class="token operator">:</span> map<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s <span class="token operator">+</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="根据键值对的集合遍历" tabindex="-1"><a class="header-anchor" href="#根据键值对的集合遍历"><span>根据键值对的集合遍历</span></a></h4><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;B&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;C&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 注意Entry接口是Map接口的内部接口</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> entry <span class="token operator">:</span> map<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">String</span> key <span class="token operator">=</span> entry<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">Integer</span> value <span class="token operator">=</span> entry<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>key <span class="token operator">+</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="使用-foreach-遍历-1" tabindex="-1"><a class="header-anchor" href="#使用-foreach-遍历-1"><span>使用 forEach 遍历</span></a></h4><p><code>forEach</code>是<code>Map</code>提供的用于遍历集合的方法。</p><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>public default void forEach(BiConsumer&lt;? super K, ? super V&gt; action)</td><td>对集合对象中的每一项执行 action 直至集合遍历完毕或者 action 抛出异常</td></tr></tbody></table><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;B&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;C&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span>v<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>k <span class="token operator">+</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-map-的底层原理" tabindex="-1"><a class="header-anchor" href="#_4-map-的底层原理"><span>4. Map 的底层原理</span></a></h3><p><code>Map</code>的底层原理参见<code>Set</code>，<code>Set</code>的底层就是基于<code>Map</code>实现的，因此<code>Map</code>也是无序、元素（键）不可重复、无索引的，其中，<code>HashMap</code>对应<code>HashSet</code>，<code>LinkedHashMap</code>对应<code>LinkedHashSet</code>，<code>TreeMap</code>对应<code>TreeSet</code>。</p><h2 id="流-stream" tabindex="-1"><a class="header-anchor" href="#流-stream"><span>流（Stream）</span></a></h2><h3 id="_1-什么是-stream-流" tabindex="-1"><a class="header-anchor" href="#_1-什么是-stream-流"><span>1. 什么是 Stream 流</span></a></h3><p><code>Stream</code>是 JDK8 新增的一套用于<strong>操作集合或数组</strong>的 API，存放于<code>java.util.stream</code>包中。<code>Stream</code>大量结合了 Lambda 表达式的语法风格来编程，提高了程序的可读性。</p><h3 id="_2-使用-stream-的基本操作步骤是什么" tabindex="-1"><a class="header-anchor" href="#_2-使用-stream-的基本操作步骤是什么"><span>2. 使用 Stream 的基本操作步骤是什么</span></a></h3><ol><li>获取 Stream 流对象</li><li>调用 Stream 流对象的中间方法</li><li>调用 Stream 流对象的终结方法</li></ol><h3 id="_3-如何获取-stream-流对象" tabindex="-1"><a class="header-anchor" href="#_3-如何获取-stream-流对象"><span>3. 如何获取 Stream 流对象</span></a></h3><h4 id="单列集合" tabindex="-1"><a class="header-anchor" href="#单列集合"><span>单列集合</span></a></h4><p>单列集合通过自身对象的<code>default Stream&lt;E&gt; stream()</code>方法获取流对象。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token class-name">Stream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Set</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashSet</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> stream <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="双列集合" tabindex="-1"><a class="header-anchor" href="#双列集合"><span>双列集合</span></a></h4><p>双列集合不能直接获取流对象，可以先获取双列集合的<code>keySet</code>或者<code>entrySet</code>，再调用这些<code>Set</code>的<code>stream()</code>方法获取流对象。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token class-name">Stream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> stream <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="数组" tabindex="-1"><a class="header-anchor" href="#数组"><span>数组</span></a></h4><p>数组可以通过<code>Arrays</code>类上的<code>static &lt;T&gt; Stream&lt;T&gt; stream(T[] array)</code>静态方法获取流对象。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token class-name">Stream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stream <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="零散对象" tabindex="-1"><a class="header-anchor" href="#零散对象"><span>零散对象</span></a></h4><p>零散对象可以通过<code>Stream</code>类上的<code>static &lt;T&gt; Stream&lt;T&gt; of (T ...value)</code>静态方法获取流对象。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token class-name">Stream</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> stream <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-什么是中间方法-什么是终结方法" tabindex="-1"><a class="header-anchor" href="#_4-什么是中间方法-什么是终结方法"><span>4. 什么是中间方法，什么是终结方法</span></a></h3><p>中间方法是指方法调用后会返回<strong>新的流对象</strong>，可以继续调用其他方法且支持链式编程。终结方法是指方法调用后不会返回新的流对象，不能再调用其他方法。如果<strong>只使用中间方法而不使用终结方法</strong>，那么<strong>中间方法也不会被调用</strong>。</p><h4 id="常见的中间方法" tabindex="-1"><a class="header-anchor" href="#常见的中间方法"><span>常见的中间方法</span></a></h4><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>Stream&lt;T&gt; <strong>filter</strong>(Predicate&lt;? super T&gt; predicate)</td><td>返回一个包含原流对象中符合 predicate 规则的元素的新流对象（简称按规则过滤原流对象）</td></tr><tr><td>Stream&lt;T&gt; <strong>limit</strong>(long maxSize)</td><td>返回一个包含原流对象中前 maxSize 个元素的新流对象</td></tr><tr><td>Stream&lt;T&gt; <strong>skip</strong>(long n)</td><td>返回一个不包含原流对象中前 n 个元素的新流对象</td></tr><tr><td>Stream&lt;T&gt; <strong>distinct</strong>()</td><td>返回一个将原流对象中重复元素去除的新流对象</td></tr><tr><td>Stream&lt;T&gt; <strong>sorted</strong>()</td><td>返回一个将原流对象元素进行默认排序的新流对象</td></tr><tr><td>Stream&lt;T&gt; <strong>sorted</strong>(Comparator&lt;? super T&gt; comparator)</td><td>返回一个将原流对象元素按照比较器排序的新流对象</td></tr><tr><td>Stream&lt;T&gt; <strong>map</strong>(Function&lt;? super T, ? super R&gt; mapper)</td><td>返回一个对原流对象的每一个元素都应用 mapper 操作的新流对象</td></tr><tr><td>static &lt;T&gt; Stream&lt;T&gt; <strong>concat</strong>(Stream&lt;? super T&gt; a, Stream&lt;? super T&gt; b)</td><td>返回一个将流对象 a 和流对象 b 拼接而成的新流对象，注意，每个流对象只能操作一次，因此拼接前不可以对原流对象进行操作</td></tr></tbody></table><h4 id="常见的终结方法" tabindex="-1"><a class="header-anchor" href="#常见的终结方法"><span>常见的终结方法</span></a></h4><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>void <strong>forEach</strong>(Consumer&lt;? super T&gt; action)</td><td>对流对象中的每一个元素执行一次 action 操作</td></tr><tr><td>long <strong>count</strong>()</td><td>返回流对象中元素的个数</td></tr><tr><td>&lt;R,A&gt; R <strong>collect</strong>(Collector&lt;? super T, A, R collector)</td><td>根据 collector 将流对象转换为对应的集合对象，详见下表</td></tr><tr><td>Object[] <strong>toArray</strong>()</td><td>将流对象转换为 Obejct 类型的数组</td></tr></tbody></table><p>Collectors 类提供了以下方法用于收集流对象：</p><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>static &lt;T&gt; Collector&lt;T, ?, List&lt;T&gt;&gt; <strong>toList</strong>()</td><td>将流对象的元素收集到 List 对象中</td></tr><tr><td>static &lt;T&gt; Collector&lt;T, ?, Set&lt;T&gt;&gt; <strong>toSet</strong>()</td><td>将流对象的元素收集到 Set 对象中</td></tr><tr><td>static &lt;T,K,U&gt; Collector&lt;T,?,Map&lt;K,U&gt;&gt; <strong>toMap</strong>(Function&lt;? super T,? extends K&gt; keyMapper, Function&lt;? super T,? extends U&gt; valueMapper)</td><td>将流对象的元素收集到 Map 对象中，注意这里需要传入两个参数，一个用于映射键，一个用于映射值</td></tr></tbody></table><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Collection</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Collections</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> col <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>col<span class="token punctuation">,</span> <span class="token string">&quot;吴同学&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;吴先生&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;吴生&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;小吴&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> col<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>e <span class="token operator">-&gt;</span> e<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;吴&quot;</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toMap</span><span class="token punctuation">(</span>k<span class="token operator">-&gt;</span>k<span class="token punctuation">,</span><span class="token class-name">String</span><span class="token operator">::</span><span class="token function">length</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// {吴同学=3, 吴先生=3}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="异常-exception" tabindex="-1"><a class="header-anchor" href="#异常-exception"><span>异常（Exception）</span></a></h2><h3 id="_1-什么是异常" tabindex="-1"><a class="header-anchor" href="#_1-什么是异常"><span>1. 什么是异常</span></a></h3><p>异常是指程序在运行期间发生的意外情况。在 Java 中，<code>Exception</code>类是<code>Throwable</code>类的一个子类，可以分为运行时异常（未检查异常）或编译时异常（已检查异常），常见的运行时异常有<code>ArrayIndexOutOfBoundsException</code>、<code>NullPointerException</code>、<code>ClassCastException</code>、<code>ArithmeticException</code>，常见的编译时异常有<code>ParseException</code>。</p><h3 id="_2-如何抛出异常和捕获异常" tabindex="-1"><a class="header-anchor" href="#_2-如何抛出异常和捕获异常"><span>2. 如何抛出异常和捕获异常</span></a></h3><p>当方法调用过程中可能产生异常时，需要在方法名之后将异常抛出给方法的调用者，使用<code>throws Exception</code>抛出，多个异常之间使用<code>,</code>分割；当方法在调用过程中产生了异常，调用者需使用<code>try catch finally</code>捕获并处理异常。</p><h3 id="_3-finally-代码块注意事项" tabindex="-1"><a class="header-anchor" href="#_3-finally-代码块注意事项"><span>3. finally 代码块注意事项</span></a></h3><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>text<span class="token punctuation">.</span></span><span class="token class-name">ParseException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>text<span class="token punctuation">.</span></span><span class="token class-name">SimpleDateFormat</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Date</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token class-name">SimpleDateFormat</span> sdf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">Date</span> date <span class="token operator">=</span> sdf<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;20200504&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">ParseException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>err<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;字符串解析异常&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token punctuation">;</span>  <span class="token comment">// 这里的return语句会执行，但只会在finally块执行后再执行，因此最好将return语句写在finally块中</span>
      <span class="token comment">// System.exit(0); 如果关闭了虚拟机，那么finally块的内容就不会被执行</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
      <span class="token comment">// finally块通常书写一些必须执行的代码，比如io的关闭，文件的关闭等</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;finally块一定会被执行&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-父类与子类异常的注意事项" tabindex="-1"><a class="header-anchor" href="#_4-父类与子类异常的注意事项"><span>4. 父类与子类异常的注意事项</span></a></h3><p>子类抛出的异常数<strong>必须小于或等于</strong>父类抛出的异常数，如果子类必须抛出特定的异常，那么父类也需要同时抛出该异常。</p><h3 id="_5-自定义异常" tabindex="-1"><a class="header-anchor" href="#_5-自定义异常"><span>5. 自定义异常</span></a></h3><p>自定义异常分为三个步骤：</p><ol><li>如果是运行时异常，则继承<code>RuntimeException</code>类，如果是编译时异常，则继承<code>Exception</code>类</li><li>调用父类的构造器，一般为无参构造器和带<code>String</code>的构造器</li><li>在需要的地方创建并抛出异常</li></ol><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> age <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token function">register</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Under18Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>err<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">register</span><span class="token punctuation">(</span><span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Under18Exception</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>age <span class="token operator">&gt;=</span> <span class="token number">18</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;年龄大于等于18&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Under18Exception</span><span class="token punctuation">(</span><span class="token string">&quot;年龄小于18&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Under18Exception</span> <span class="token keyword">extends</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token class-name">Under18Exception</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token class-name">Under18Exception</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="java-io-file" tabindex="-1"><a class="header-anchor" href="#java-io-file"><span>java.io.File</span></a></h2><p>变量、数组、对象等都是直接存储在内存中的，内存是易失性的存储容器，如果想要长久地保存数据，就需要将数据存储到计算机硬盘的文件中。</p><h3 id="_1-如何创建一个-file-对象" tabindex="-1"><a class="header-anchor" href="#_1-如何创建一个-file-对象"><span>1. 如何创建一个 File 对象</span></a></h3><p>可以使用<code>File</code>类的构造器创建<code>File</code>对象，常用的构造器有三种，分别是以绝对路径为参数的构造器，以父路径和子路径为参数的构造器，以一个<code>File</code>对象和子路径为参数 的构造器。</p><h3 id="_2-file-类的常用方法" tabindex="-1"><a class="header-anchor" href="#_2-file-类的常用方法"><span>2. File 类的常用方法</span></a></h3><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>boolean <strong>createNewFile</strong>()</td><td>根据文件对象创建一个新的文件（要求当前文件夹不存在同名文件，否则创建失败），返回值为是否创建成功，该方法在使用时需要抛出 IOException 异常</td></tr><tr><td>boolean <strong>mkdir</strong>()</td><td>根据文件对象创建一个一级文件夹</td></tr><tr><td>boolean <strong>mkdirs</strong>()</td><td>根据文件对象创建一个多级文件夹</td></tr><tr><td>boolean <strong>delete</strong>()</td><td>根据文件对象删除一个文件或空文件夹，删除后的文件不会进入回收站</td></tr><tr><td>boolean <strong>exists</strong>()</td><td>判断当前文件对象对应的文件路径是否存在</td></tr><tr><td>boolean <strong>isFile</strong>()</td><td>判断当前文件对象指代的是否为文件</td></tr><tr><td>boolean <strong>isDirectory</strong>()</td><td>判断当前文件对象指代的是否为文件夹</td></tr><tr><td>String <strong>getName</strong>()</td><td>返回当前文件对象的文件名（含后缀名）</td></tr><tr><td>long <strong>length</strong>()</td><td>返回当前文件对象的大小（单位为字节），如果为文件夹则返回 0</td></tr><tr><td>long <strong>lastModified</strong>()</td><td>返回当前文件对象的最后修改时间（毫秒值）</td></tr><tr><td>String <strong>getPath</strong>()</td><td>返回创建文件对象时使用的路径</td></tr><tr><td>String <strong>getAbsolutePath</strong>()</td><td>返回文件对象对应的绝对路径</td></tr><tr><td>String[] <strong>list</strong>()</td><td>返回当前文件对象的目录下的所有文件/文件夹名</td></tr><tr><td>File[] <strong>listFiles</strong>()</td><td>返回当前文件对象的目录下的所有文件对象，当调用者是文件或者文件路径不存在时，返回 null；当调用者是文件夹，但当前用户没有权限访问该文件夹时，返回 null；当调用者是文件夹，返回的文件将会包含隐藏文件</td></tr></tbody></table><h3 id="_3-如何搜索特定文件夹下的特定类型文件" tabindex="-1"><a class="header-anchor" href="#_3-如何搜索特定文件夹下的特定类型文件"><span>3. 如何搜索特定文件夹下的特定类型文件</span></a></h3><p>由于文件夹中还会存在文件夹，所以应当使用递归进行查找。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">File</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">File</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;/Users/wushuhao/Desktop/static-test/test-static&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">listJava</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">listJava</span><span class="token punctuation">(</span><span class="token class-name">File</span> file<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>f <span class="token operator">:</span> file<span class="token punctuation">.</span><span class="token function">listFiles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span><span class="token function">isFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">&quot;.java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span><span class="token function">getAbsolutePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span><span class="token function">isDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">listJava</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="字符集-charset" tabindex="-1"><a class="header-anchor" href="#字符集-charset"><span>字符集（charset）</span></a></h2><h3 id="_1-什么是字符集" tabindex="-1"><a class="header-anchor" href="#_1-什么是字符集"><span>1. 什么是字符集</span></a></h3><p>常用的字符集有 ASCII、GBK、UTF-8 和 UTF-32 等等。ASCII 字符集只有英文、数字和符号，只占一个字节且第一位为 0；GBK 字符集兼容 ASCII 字符集且包含汉字，其中汉字占两个字节且第一个字节的第一位为 1；UTF-8 字符集包含所有的字符，采用可变长度编码，根据字符类型的不同划分为四个长度区，其中汉字占三个字节且第一个字节以 1110 开头，剩下的两个字节以 10 开头。</p><h3 id="_2-如何对字符集进行解码和编码" tabindex="-1"><a class="header-anchor" href="#_2-如何对字符集进行解码和编码"><span>2. 如何对字符集进行解码和编码</span></a></h3><p>可以使用<code>String</code>类提供的<code>byte[] getBytes()</code>对字符进行默认编码（utf-8 编码），如果需要使用指定的字符集进行编码，则可以向<code>getBytes()</code>方法传递一个<code>String</code>参数用于指定字符集，需要注意的是此时会抛出一个<code>UnsupportedEncodingException</code>异常。</p><p>可以使用<code>String</code>类的含参构造器<code>new String(byte[] bytes)</code>对字节进行默认解码（utf-8 编码），如果需要使用指定的字符集进行解码，则可以使用含参构造器<code>new String(byte[] bytes, String charsetName)</code>，参数二用于指定字符集。</p><h2 id="io-流" tabindex="-1"><a class="header-anchor" href="#io-流"><span>IO 流</span></a></h2><h3 id="_1-什么是-io-流" tabindex="-1"><a class="header-anchor" href="#_1-什么是-io-流"><span>1. 什么是 IO 流</span></a></h3><p>IO 流，即输入输出流，可用于操作文件或者网络数据。I 即输入流，负责把数据读入到内存中，O 即输出流，负责将内存中的数据读出去。IO 流根据流的方向可以分为<strong>输入流</strong>和<strong>输出流</strong>，根据流中数据的最小单位可以分为<strong>字节流</strong>和<strong>字符流</strong>。IO 流的体系图如下： <img src="/assets/IOStream-tGv_BdDf.png" alt="IO流"></p><h3 id="_2-java-io-fileoutputstream" tabindex="-1"><a class="header-anchor" href="#_2-java-io-fileoutputstream"><span>2. java.io.FileOutputStream</span></a></h3><p><code>FileOutputStream</code> 表示文件字节输出流，用于将内存中的数据以字节的形式写出到文件中。使用文件输出流需要先使用构造器创建文件输出流对象，再通过文件字节输出流对象的<code>write()</code>方法向<strong>文件</strong>（注意只能是文件，不能是文件夹）中写入字节。</p><h4 id="fileoutputstream-的常用构造器" tabindex="-1"><a class="header-anchor" href="#fileoutputstream-的常用构造器"><span>FileOutputStream 的常用构造器</span></a></h4><table><thead><tr><th>构造器</th><th>参数说明</th></tr></thead><tbody><tr><td>public FileOutputStream(File file)</td><td>创建一个文件字节输出流对象用于向指定文件对象写入字节，如果文件对象的路径不存在该文件，则会根据该路径创建文件</td></tr><tr><td>public FileOutputStream(String name)</td><td>创建一个文件字节输出流对象用于向指定路径的文件写入字节</td></tr><tr><td>public FileOutputStream(File file, boolean append)</td><td>参数二为真时，向指定文件的末尾写入字节，为假时，重写指定文件，默认值为假</td></tr><tr><td>public FileOutputStream(String name, boolean append)</td><td>同上</td></tr></tbody></table><h4 id="fileoutputstream-的常用方法" tabindex="-1"><a class="header-anchor" href="#fileoutputstream-的常用方法"><span>FileOutputStream 的常用方法</span></a></h4><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>public void write(int a)</td><td>写一个字节</td></tr><tr><td>public void write(byte[] buffer)</td><td>写一个字节数组</td></tr><tr><td>public void write(byte[] buffer, int pos, int len)</td><td>写字节数组中的一部分，从 pos 开始，长度为 len</td></tr><tr><td>public void close()</td><td>关闭流</td></tr></tbody></table><h4 id="字节输出流如何实现写出去的数据可以换行" tabindex="-1"><a class="header-anchor" href="#字节输出流如何实现写出去的数据可以换行"><span>字节输出流如何实现写出去的数据可以换行</span></a></h4><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileOutputStream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">FileOutputStream</span> fos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;test-module/test-file/test.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    fos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token char">&#39;h&#39;</span><span class="token punctuation">,</span><span class="token char">&#39;e&#39;</span><span class="token punctuation">,</span><span class="token char">&#39;l&#39;</span><span class="token punctuation">,</span><span class="token char">&#39;l&#39;</span><span class="token punctuation">,</span><span class="token char">&#39;o&#39;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 注意FileOutputStream是字节输出流不是字符输出流，因此需要将字符转换为字节</span>
    fos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;\r\n&quot;</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    fos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token char">&#39;w&#39;</span><span class="token punctuation">,</span><span class="token char">&#39;o&#39;</span><span class="token punctuation">,</span><span class="token char">&#39;r&#39;</span><span class="token punctuation">,</span><span class="token char">&#39;l&#39;</span><span class="token punctuation">,</span><span class="token char">&#39;d&#39;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-java-io-fileinputstream" tabindex="-1"><a class="header-anchor" href="#_3-java-io-fileinputstream"><span>3. java.io.FileInputStream</span></a></h3><p><code>FileInputStream</code> 表示文件字节输入流，用于将文件中的数据读取到内存中。使用文件输入流需要先使用构造器创建文件输入流对象，再通过文件字节输入流对象的<code>read()</code>方法将<strong>文件</strong>（注意只能是文件，不能是文件夹）的内容读取到内存中。</p><h4 id="fileinputstream-的常用构造器" tabindex="-1"><a class="header-anchor" href="#fileinputstream-的常用构造器"><span>FileInputStream 的常用构造器</span></a></h4><table><thead><tr><th>构造器</th><th>参数说明</th></tr></thead><tbody><tr><td>public FileInputStream(File file)</td><td>创建一个文件字节输入流用于读取指定文件的数据</td></tr><tr><td>public FileInputStream(String name)</td><td>创建一个文件字节输入流用于读取指定路径下的文件的数据</td></tr></tbody></table><h4 id="fileinputstream-的常用方法" tabindex="-1"><a class="header-anchor" href="#fileinputstream-的常用方法"><span>FileInputStream 的常用方法</span></a></h4><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>public int read()</td><td>读取一个字节，没有可读的字节则返回-1，性能较差</td></tr><tr><td>public int read(byte[] buffer)</td><td>每次读取 n 个字节，n 为 buffer 的长度，返回读取的字节数，如果没有可读的字节则返回-1</td></tr><tr><td>public byte[] readAllBytes()</td><td>直接将字节输入流对应的文件对象的数据存储到一个字节数组中并返回，应谨慎使用该方法读取占用内存过大的文件，可能会引起内存溢出</td></tr></tbody></table><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">// 假设test.txt中的内容为abcdefg</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileInputStream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">FileInputStream</span> fis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;test-module/test-file/test.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token comment">// buffer的长度通常会被设置成1024 * 8</span>
    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> fis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// abc</span>
      <span class="token comment">// def</span>
      <span class="token comment">// gef，注意第三次的输出，因为只读取到g，因此buffer索引为1和2的内容并未被修改，仍保持上一轮的内容</span>
    <span class="token punctuation">}</span>
    fis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-如何实现文件复制" tabindex="-1"><a class="header-anchor" href="#_4-如何实现文件复制"><span>4. 如何实现文件复制</span></a></h3><p>文件在计算机中都是以二进制进行存储的，因此使用字节输入流和字节输出流实现文件复制是一种不错的选择（这是字符流无法实现的）。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">// 假设test.txt中的内容为abcdefg</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileInputStream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileOutputStream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">FileInputStream</span> fis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;test-module/test-file/test.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">FileOutputStream</span> fos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;test-module/test-file/test_copy.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> fis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      fos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>buffer<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    fis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    fos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_5-如何更简洁地释放资源" tabindex="-1"><a class="header-anchor" href="#_5-如何更简洁地释放资源"><span>5. 如何更简洁地释放资源</span></a></h3><p>通常情况下，我们可以在<code>finally</code>代码块中释放资源（资源通常是指实现了<code>Closeable</code>接口的实现类，他们都重写了<code>close</code>方法），但由于<code>finally</code>块不能访问到<code>try</code>块的作用域，因此我们往往需要在<code>try</code>块之外去定义变量，此外，由于关闭流使用的<code>close</code>方法会抛出一个异常，这就导致了我们在<code>finally</code>块中仍需嵌套<code>try/catch</code>块去捕获这个异常，这就会使得整个程序显得臃肿。因此，JDK1.7 后提供了<code>try-with-resources</code>这种新的格式帮助我们简化释放资源这一步骤，使用方式如下所示：</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileInputStream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">(</span>
      <span class="token comment">// 这里定义在使用完之后需要被释放的资源，程序会在使用结束后自动释放资源</span>
      <span class="token class-name">FileInputStream</span> fis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;test-module/test-file/test.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">int</span> n <span class="token operator">=</span> fis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>err<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_6-java-io-filereader" tabindex="-1"><a class="header-anchor" href="#_6-java-io-filereader"><span>6. java.io.FileReader</span></a></h3><p><code>FileReader</code> 表示文件字符输入流，用于将文件中的数据读取到内存中。使用文件输入流需要先使用构造器创建文件输入流对象，再通过文件字符输入流对象的<code>read()</code>方法将<strong>文件</strong>（注意只能是文件，不能是文件夹）的内容读取到内存中。<code>FileReader</code>类与<code>FileInputStream</code>类的常用构造器形式一致。</p><h4 id="filereader-类的常用方法" tabindex="-1"><a class="header-anchor" href="#filereader-类的常用方法"><span>FileReader 类的常用方法</span></a></h4><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>public int read()</td><td>读取一个字符，没有可读的字节则返回-1</td></tr><tr><td>public int read(char[] buffer)</td><td>每次读取 n 个字符，n 为 buffer 的长度，返回读取的字符数，如果没有可读的字符则返回-1</td></tr></tbody></table><h3 id="_7-java-io-filewriter" tabindex="-1"><a class="header-anchor" href="#_7-java-io-filewriter"><span>7. java.io.FileWriter</span></a></h3><p><code>FileWriter</code> 表示文件字符输出流，用于将内存中的数据以字符的形式写出到文件中。使用文件输出流需要先使用构造器创建文件输出流对象，再通过文件字符输出流对象的<code>write()</code>方法向<strong>文件</strong>（注意只能是文件，不能是文件夹）中写入字符。<code>FileWriter</code>类与<code>FileOuputStream</code>类的常用构造器形式一致。</p><h4 id="filewriter-类的常用方法" tabindex="-1"><a class="header-anchor" href="#filewriter-类的常用方法"><span>FileWriter 类的常用方法</span></a></h4><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>public void write(int c)</td><td>写一个字符</td></tr><tr><td>public void write(String str)</td><td>写一个字符串</td></tr><tr><td>public void write(String str, int off, int len)</td><td>写一个字符串的一部分，从索引为 off 处开始，长度为 len</td></tr><tr><td>public void write(char[] buffer)</td><td>写一个字符数组</td></tr><tr><td>public void write(char[] buffer, int off, int len)</td><td>写一个字符数组的一部分，从索引为 off 处开始，长度为 len</td></tr><tr><td>public void flush()</td><td>刷新流</td></tr></tbody></table><h4 id="字符输出流的注意事项" tabindex="-1"><a class="header-anchor" href="#字符输出流的注意事项"><span>字符输出流的注意事项</span></a></h4><p>字符输出流写出数据后，必须立即<strong>刷新流</strong>或者<strong>关闭流</strong>(关闭流包含了刷新流)，写出去的数据才能立即生效。（为什么字节输出流不需要，因为字节输出流写出的数据是字节形式的，而文件存储的形式也是字节形式的） 字符流的读写效率是高于字节流的，因此在<strong>读写时常用字符流</strong>；由于音频、视频等文件在内存中不是以字符形式存储的，因此在进行<strong>文件复制时应使用字节流</strong>。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">// 将用户输入存储到test.txt中，并且复制</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileWriter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileInputStream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileOutputStream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Scanner</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">Scanner</span> sc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> str <span class="token operator">=</span> sc<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">FileWriter</span> fw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileWriter</span><span class="token punctuation">(</span><span class="token string">&quot;test-module/test-file/test.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 读写使用字符流</span>
    fw<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    fw<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 这里需要立即关闭流或者刷新流，将写出的文件数据保存</span>
    <span class="token comment">// 文件复制使用字节流</span>
    <span class="token class-name">FileInputStream</span> fis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;test-module/test-file/test.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">FileOutputStream</span> fos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;test-module/test-file/test_copy.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> len<span class="token punctuation">;</span>
    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> fis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      fos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>buffer<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    fis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    fos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_8-缓冲流" tabindex="-1"><a class="header-anchor" href="#_8-缓冲流"><span>8. 缓冲流</span></a></h3><p>缓冲流分为字符输入缓冲流（<code>BufferedWriter</code>）、字符输出缓冲流（<code>BufferedReader</code>）、字节输入缓冲流（<code>BufferedInputStream</code>）和字节输出缓冲流（<code>BufferedOutputStream</code>）。缓冲流又被称为包装流，它是在原始流的基础上<strong>增加了一个 8KB 的缓冲池</strong>，提高了原始流的读写效率。缓冲流的构造器接收一个原始流对象作为参数，将其包装为一个读写效率更高的缓冲流。</p><p>字符输入缓冲流新增了<code>public String readLine()</code>方法，用于读取一整行数据，如果没有数据可读，则返回 null；字符输出缓冲流新增了<code>public void newLine()</code>方法，用于换行。</p><h4 id="缓冲流和原始流的性能比较" tabindex="-1"><a class="header-anchor" href="#缓冲流和原始流的性能比较"><span>缓冲流和原始流的性能比较</span></a></h4><p>分别测试四种方式的文件复制（假设待复制的文件大小都为 16KB，字节数组的大小都为 1KB）的效率，分别是：1. 使用原始的字节流按照一个一个字节的方式复制文件； 2. 使用原始的字节流按照字节数组的方式复制文件；3. 使用缓冲字节流按照一个一个字节的方式复制文件；4. 使用缓冲字节流按照字节数组的方式复制文件。</p><ol><li>使用原始的字节流按照一个一个字节的方式复制文件 <img src="/assets/filecopy_1-DJYSCnpa.png" alt="原始字节流+单个字节"> 文件的读写次数均为 16 * 1024 次。</li><li>使用原始的字节流按照字节数组的方式复制文件 <img src="/assets/filecopy_2-bKOCqyIC.png" alt="原始字节流+字节数组"> 文件的读写次数均为 16 次。</li><li>使用缓冲字节流按照一个一个字节的方式复制文件 <img src="/assets/filecopy_3-Dio7EiET.png" alt="缓冲字节流+单个字节"> 文件的读写次数均为 2 次，内存的读取次数均为 16*1024 次。</li><li>使用缓冲字节流按照字节数组的方式复制文件 <img src="/assets/filecopy_4-D3SCH9vk.png" alt="缓冲字节流+字节数组"> 文件的读写次数均为 2 次，内存的读取次数均为 16 次。</li></ol><p>由于内存读写快，文件读写慢，可见在上述条件下缓冲字节流的性能是要优于原始字节流的，但如果我们将字符数组的大小修改到与缓冲数组大小相等（8KB）时，使用原始的字节流按照字节数组的方式复制文件和使用缓冲字节流按照字节数组的方式复制文件的耗时就会趋于一致，因此对比二者的效率还需要考虑字符数组的大小。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">FileInputStream</span> fis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;test-static/src/com/goh/testFile/测试.wmv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">FileOutputStream</span> fos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;test-static/src/com/goh/testFile/测试_copy.wmv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">BufferedInputStream</span> bis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedInputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;test-static/src/com/goh/testFile/测试.wmv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">BufferedOutputStream</span> bos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedOutputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;test-static/src/com/goh/testFile/测试_copy.wmv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> len<span class="token punctuation">;</span>
        <span class="token keyword">long</span> startTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> fis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            fos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">long</span> endTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>endTime <span class="token operator">-</span> startTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
        fis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        startTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> bis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            bos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        endTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>endTime <span class="token operator">-</span> startTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
        bis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_9-转换流" tabindex="-1"><a class="header-anchor" href="#_9-转换流"><span>9. 转换流</span></a></h3><p>如果代码编码时使用的字符集与读取文本文件时文本文件编码采用的字符集不一致，使用字符流读取时就会出现乱码的情况，转换流（<code>InputStreamReader</code>和<code>OutputStreamWriter</code>）允许我们传入第二个参数，将一个<strong>字节流</strong>包装成<strong>指定字符集的字符流</strong>。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">OutputStreamWriter</span> osw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OutputStreamWriter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;test-module/test-file/test_out.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&quot;gbk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        osw<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;你好 世界&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        osw<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">InputStreamReader</span> isr <span class="token operator">=</span>  <span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;test-module/test-file/test_out.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&quot;GBK&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> len<span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> isr<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        isr<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_10-打印流" tabindex="-1"><a class="header-anchor" href="#_10-打印流"><span>10. 打印流</span></a></h3><p>打印流（<code>PrintStream</code>和<code>PrintWriter</code>）可以更方便地将数据写入到文件中，写出的数据不会被自动转换。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">FileOutputStream</span> fos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;test-module/test-file/test_out.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token number">97</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// a</span>
        fos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">PrintWriter</span> pw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PrintWriter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;test-module/test-file/test_out.txt&quot;</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        pw<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token number">97</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 97，如果这里使用PrintWriter的write方法，那么也会输出a</span>
        pw<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">FileInputStream</span> fis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;test-module/test-file/test_out.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> len<span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> fis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        fis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>System.out</code>也是一种打印字节输出流，默认情况下<code>System.out</code>会打印在控制台上，可以通过<code>System.setOut</code>方法修改打印位置，该方法接收一个打印字节输出流对象作为参数。</p><h3 id="_11-数据流" tabindex="-1"><a class="header-anchor" href="#_11-数据流"><span>11. 数据流</span></a></h3><p>数据输出流（<code>DataOuputStream</code>）允许将数据及其数据类型一同写入到文件中去，可以通过数据输入流（<code>DataInputStream</code>）再将对应的数据读入内存中。（数据流是字节流的包装）</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">DataOutputStream</span> dos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataOutputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;test-module/test-file/testBis.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        dos<span class="token punctuation">.</span><span class="token function">writeInt</span><span class="token punctuation">(</span><span class="token number">10086</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        dos<span class="token punctuation">.</span><span class="token function">writeBoolean</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        dos<span class="token punctuation">.</span><span class="token function">writeUTF</span><span class="token punctuation">(</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        dos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">DataInputStream</span> dis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataInputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;test-module/test-file/testBis.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>dis<span class="token punctuation">.</span><span class="token function">readInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 10086</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>dis<span class="token punctuation">.</span><span class="token function">readBoolean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// false</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>dis<span class="token punctuation">.</span><span class="token function">readUTF</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// hello world，注意读字符串的方法的方法名为readUTF</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>dis<span class="token punctuation">.</span><span class="token function">readInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 抛出java.io.EOFException异常</span>
        dis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_12-序列化流" tabindex="-1"><a class="header-anchor" href="#_12-序列化流"><span>12. 序列化流</span></a></h3><h4 id="什么是序列化和反序列化" tabindex="-1"><a class="header-anchor" href="#什么是序列化和反序列化"><span>什么是序列化和反序列化</span></a></h4><p>序列化是指将程序中的对象写入到文件中，反序列化是指将文件中的对象读取到程序中。一个对象如果要参与序列化，那么它的类必须实现<code>Serializable</code>接口（<code>ArrayList</code>类已经实现了该接口）。</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Collections</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ClassNotFoundException</span> <span class="token punctuation">{</span>
        <span class="token comment">// Student类需要实现Serializable接口</span>
        <span class="token class-name">Student</span> student1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;小明&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Student</span> student2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;小红&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> students <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>students<span class="token punctuation">,</span>student1<span class="token punctuation">,</span>student2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ObjectOutputStream</span> oos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectOutputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;test-module/test-file/test_obj.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        oos<span class="token punctuation">.</span><span class="token function">writeObject</span><span class="token punctuation">(</span>students<span class="token punctuation">)</span><span class="token punctuation">;</span>
        oos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ObjectInputStream</span> ois <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectInputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;test-module/test-file/test_obj.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Object</span> o <span class="token operator">=</span> ois<span class="token punctuation">.</span><span class="token function">readObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> a <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span> o<span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Student</span> student <span class="token operator">:</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>student<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        ois<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_13-io-框架-commons-io" tabindex="-1"><a class="header-anchor" href="#_13-io-框架-commons-io"><span>13. IO 框架（Commons-io）</span></a></h3><h4 id="如何使用框架-以-commons-io-为例" tabindex="-1"><a class="header-anchor" href="#如何使用框架-以-commons-io-为例"><span>如何使用框架（以 Commons-io 为例）</span></a></h4><ol><li><a href="https://commons.apache.org/proper/commons-io/" target="_blank" rel="noopener noreferrer">下载<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 框架 <img src="/assets/downloadCommonsio-CA5uxlNy.png" alt="下载"></li><li>在<strong>模块</strong>下创建一个名为 lib 的文件夹</li><li>将 commons-io-2.16.1.jar 文件复制到 lib 文件夹下 <img src="/assets/downloadCommonsio_1-Biz-W69B.png" alt="下载2"></li><li>右键.jar 文件选择 Add as Liarbry</li><li>导包使用</li></ol><h4 id="commons-io-的常用类及-api" tabindex="-1"><a class="header-anchor" href="#commons-io-的常用类及-api"><span>Commons-io 的常用类及 API</span></a></h4><p>读写操作更多使用原生 API。</p><table><thead><tr><th>FileUtils 类的常用方法</th><th>说明</th></tr></thead><tbody><tr><td>public static void copyFile(File src, File dest)</td><td>复制文件</td></tr><tr><td>public static void copyDirectory(File src, File dest)</td><td>复制文件夹</td></tr><tr><td>public static void deleteDirectory(File dir)</td><td>删除文件夹</td></tr></tbody></table><table><thead><tr><th>IOUtils 类的常用方法</th><th>说明</th></tr></thead><tbody><tr><td>public static int copy(InputStream is, OutputStream os)</td><td>复制文件</td></tr><tr><td>public static int copy(Reader reader, Writer writer)</td><td>复制文件</td></tr></tbody></table><h2 id="特殊文件" tabindex="-1"><a class="header-anchor" href="#特殊文件"><span>特殊文件</span></a></h2><h3 id="_1-properties-文件" tabindex="-1"><a class="header-anchor" href="#_1-properties-文件"><span>1. properties 文件</span></a></h3><p>Properties 文件是 Java 中一种常用的配置文件格式，通常用于存储应用程序的配置信息，如数据库连接参数、国际化资源等。Properties 文件以 <code>.properties</code> 为扩展名，采用键值对（key-value）的格式存储数据，每行表示一个键值对，键和值之间使用等号（=）分隔。在 Java 中，可以使用 <code>java.util.Properties</code> 类来读写 Properties 文件。</p><table><thead><tr><th>常用方法</th><th>说明</th></tr></thead><tbody><tr><td>public void store​(OutputStream os, String comments)</td><td>把键值对数据，通过字节输出流写出到属性文件里去</td></tr><tr><td>public void store​(Writer w, String comments)</td><td>把键值对数据，通过字符输出流写出到属性文件里去</td></tr><tr><td>public Object setProperty(String key, String value)</td><td>保存键值对数据到 Properties 对象中去</td></tr><tr><td>public void load​(InputStream is)</td><td>通过字节输入流，读取属性文件里的键值对数据</td></tr><tr><td>public void load​(Reader reader)</td><td>通过字符输入流，读取属性文件里的键值对数据</td></tr><tr><td>public String getProperty(String key)</td><td>根据键获取值</td></tr><tr><td>public Set&lt;String&gt; stringPropertyNames()</td><td>获取全部键的集合</td></tr></tbody></table><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileWriter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Properties</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">FileWriter</span> fw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileWriter</span><span class="token punctuation">(</span><span class="token string">&quot;test-module/test-file/database.properties&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Properties</span> prop <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        prop<span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span>fw<span class="token punctuation">,</span> <span class="token string">&quot;存储数据库相关信息&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        prop<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        prop<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fw<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">FileReader</span> fr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token string">&quot;test-module/test-file/database.properties&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        prop<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>fr<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>prop<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>prop<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fr<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-xml-文件" tabindex="-1"><a class="header-anchor" href="#_2-xml-文件"><span>2. XML 文件</span></a></h3><p>XML（可扩展标记语言）是一种用于存储和传输数据的通用标记语言，被广泛应用于各种领域，包括配置文件、数据交换、Web 服务等。XML 的设计目标之一是可扩展性，允许用户根据需要定义自己的标签和标记结构，因此 XML 适用于描述各种复杂的数据结构和文档。</p><h3 id="_3-日志文件" tabindex="-1"><a class="header-anchor" href="#_3-日志文件"><span>3. 日志文件</span></a></h3><h4 id="什么是日志" tabindex="-1"><a class="header-anchor" href="#什么是日志"><span>什么是日志</span></a></h4><p>日志是记录软件运行时状态、行为和事件的一种信息记录方式。在软件开发和运维过程中，日志被广泛用于记录系统的运行情况、错误信息、警告、调试信息等，以便开发人员、运维人员或者系统管理员进行故障排查、性能分析、安全审计等工作。</p><h4 id="常用的日志接口和日志框架有哪些" tabindex="-1"><a class="header-anchor" href="#常用的日志接口和日志框架有哪些"><span>常用的日志接口和日志框架有哪些</span></a></h4><p>常用的日志接口有 Commons Logging (JCL)和 Simple Logging Facade for Java (SLF4J)，常用的日志框架有 JUL（java.util.loggiing）、Log4j 和 Logback。</p><h4 id="如何使用-logback-框架" tabindex="-1"><a class="header-anchor" href="#如何使用-logback-框架"><span>如何使用 Logback 框架</span></a></h4><ol><li>使用 Logback 框架之前需要导入三个包，分别是 slf4j-api（Logback 框架实现的接口）、logback-core（Logback 框架的基础模块）和 logback-classic（Logback 框架的功能模块，它完整地实现了 SLF4J 接口）。</li><li>将 Logback 框架的核心配置文件 logback.xml 直接拷贝到 src 目录下。</li></ol><div class="language-xml" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- logback.xml --&gt;</span>
<span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--
        CONSOLE ：表示当前的日志信息是可以输出到控制台的。
    --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>CONSOLE<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch.qos.logback.core.ConsoleAppender<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--输出流对象 默认 System.out 改为 System.err--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>target</span><span class="token punctuation">&gt;</span></span>System.out<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>target</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoder</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!--格式化输出：%d表示日期，%thread表示线程名，%-5level：级别从左显示5个字符宽度
                %msg：日志消息，%n是换行符--&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">&gt;</span></span>%d{yyyy-MM-dd HH:mm:ss.SSS} [%-5level]  %c [%thread] : %msg%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoder</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- File是输出的方向通向文件的 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>FILE<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch.qos.logback.core.rolling.RollingFileAppender<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoder</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">&gt;</span></span>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>charset</span><span class="token punctuation">&gt;</span></span>utf-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>charset</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoder</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--日志输出路径--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>file</span><span class="token punctuation">&gt;</span></span>/Users/wushuhao/Desktop/log/data.log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>file</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--指定日志文件拆分和压缩规则--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rollingPolicy</span>
                <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!--通过指定压缩文件名称，来确定分割文件方式--&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fileNamePattern</span><span class="token punctuation">&gt;</span></span>/Users/wushuhao/Desktop/log/data-%i-%d{yyyy-MM-dd}-.log.gz<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fileNamePattern</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!--文件拆分大小--&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maxFileSize</span><span class="token punctuation">&gt;</span></span>1KB<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maxFileSize</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rollingPolicy</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--
        1、控制日志的输出情况：如，开启日志 ALL，取消日志 OFF
    --&gt;</span>
    <span class="token comment">&lt;!-- 日志级别，从低到高为trace、debug、info、warn、error --&gt;</span>
    <span class="token comment">&lt;!-- level=&quot;debug&quot;表示只有级别大于等于debug的日志才会被记录 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>root</span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>debug<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>CONSOLE<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> <span class="token comment">&lt;!--开启打印到控制台--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>FILE<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span> <span class="token comment">&lt;!--开启打印到文件--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>root</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ol start="3"><li>使用<code>public static final Logger LOGGER = LoggerFactory.getLogger(“类名&quot;);</code>创建 Logback 框架提供的 Logger 对象，然后用 Logger 对象调用其提供的方法就可以记录系统的日志信息。</li></ol><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Logger</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">LoggerFactory</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Logger</span> <span class="token constant">LOGGER</span> <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token string">&quot;Test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">20</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">divide</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">divide</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">divide</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// {}为占位符</span>
        <span class="token constant">LOGGER</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;a is {}, b is {}&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token constant">LOGGER</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;before divide&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> result <span class="token operator">=</span> a <span class="token operator">/</span> b<span class="token punctuation">;</span>
            <span class="token constant">LOGGER</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;after divide: {}&quot;</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ArithmeticException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token constant">LOGGER</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;divide by zero&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token constant">LOGGER</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;Arithmetic exception&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="多线程" tabindex="-1"><a class="header-anchor" href="#多线程"><span>多线程</span></a></h2><h3 id="_1-什么是线程-什么是进程" tabindex="-1"><a class="header-anchor" href="#_1-什么是线程-什么是进程"><span>1. 什么是线程，什么是进程</span></a></h3><p>进程（Process）是程序执行时的一个实例，它是操作系统分配资源的基本单位，一个进程可以包含一个或多个线程。每个进程都有自己的地址空间、内存等。进程之间是独立的，彼此不会影响，一个进程的崩溃不会影响其他进程，因此多进程的程序表现出更高的稳定性。</p><p>线程（Thread）是进程的执行单位，是操作系统能够调度运算的最小单位。线程是同一进程下的不同执行路径，同一进程的多个线程共享进程拥有的资源，如内存等，每个线程还拥有独立的程序计数器、寄存器和栈空间。多线程的程序表现出更高的并发性和响应性。</p><h3 id="_2-什么是并发-什么是并行" tabindex="-1"><a class="header-anchor" href="#_2-什么是并发-什么是并行"><span>2. 什么是并发，什么是并行</span></a></h3><p>并发（Concurrency）是指在同一时间间隔内，多个任务交替执行。在单核处理器中，并发可以通过时间片轮转的方式实现；在多核处理器中，并发可以通过多线程的方式实现。（逻辑上的同时）</p><p>并行（Parallelism）是指在同一时刻，多个任务同时执行。在并行中，每个任务可以独立地在不同的处理器核心或计算单元上执行，提高了计算效率。（物理上的同时）</p><h3 id="_3-如何创建多线程" tabindex="-1"><a class="header-anchor" href="#_3-如何创建多线程"><span>3. 如何创建多线程</span></a></h3><ol><li>继承 Thread 类并重写 run 方法，由于类只支持单继承，因此这种创建线程的方式的可扩展性较差。</li><li>实现 Runnable 接口并重写 run 方法，避免了单继承的局限性，降低了耦合度，但是重写的 run 方法不能抛出异常（Runnable 接口中的 public abstract void run();方法没有抛出异常）且不能有返回值。</li><li>实现 Callable 接口并重写 call 方法，这种方式可以有返回值且可以抛出异常（Callable 接口中的 public abstract V call() throws Exception;方法抛出了异常），返回值的类型由 Callable 接口的泛型指定。</li></ol><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">Callable</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">ExecutionException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">FutureTask</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ExecutionException</span><span class="token punctuation">,</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span>
        <span class="token class-name">Thread</span> thread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        thread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">MyRunnable</span> runnable <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyRunnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Thread</span> thread1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>runnable<span class="token punctuation">)</span><span class="token punctuation">;</span>
        thread1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">MyCallable</span> callable <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyCallable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">FutureTask</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> futureTask <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FutureTask</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>callable<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Thread</span> thread2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>futureTask<span class="token punctuation">)</span><span class="token punctuation">;</span>
        thread2<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;main is running&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>futureTask<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">MyThread</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;Thread&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; is running.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">MyRunnable</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;Runnable&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; is running.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">MyCallable</span> <span class="token keyword">implements</span> <span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;Callable&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; is running.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; returns a String&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="4"><li>使用 Executors 工具类创建线程池，Executors.newFixedThreadPool(int nThreads)用于创建一个线程数量固定的线程池，使用 submit 方法提交 Runnable 和 Callable 任务。</li><li>使用 ThreadPoolExecutor 创建自定义线程池，ThreadPoolExecutor 的构造器接收七个参数，分别是 <ul><li>int corePoolSize，表示核心线程数；</li><li>int maximumPoolSize，表示最大线程数；</li><li>long keepAliveTime，表示临时线程的最大存活时间；</li><li>TimeUnit unit，参数三的单位；</li><li>BlockingQueue&lt;Runnable&gt; workQueue，表示等待队列，常使用 new ArrayBlockingQueue&lt;&gt;(int length)，ArrayBlockingQueue 是一个有界等待队列，接收的参数表示该有界等待队列的长度；</li><li>ThreadFactory threadFactory，表示线程工厂，常使用 Executors 工具类的 defaultThreadFactory 方法创建线程工厂；</li><li>RejectedExecutionHandler handler，表示拒绝策略，ThreadPoolExecutor 类提供了多种拒绝策略（以静态内部类的形式定义），如下表所示。</li></ul></li></ol><table><thead><tr><th>拒绝策略</th><th>说明</th></tr></thead><tbody><tr><td>ThreadPoolExecutor.AbortPolicy</td><td>丢弃任务并抛出 RejectedExecutionException 异常。是默认的策略</td></tr><tr><td>ThreadPoolExecutor.DiscardPolicy</td><td>丢弃任务，但是不抛出异常</td></tr><tr><td>ThreadPoolExecutor.DiscardOldestPolicy</td><td>抛弃队列中等待最久的任务 然后把当前任务加入队列中</td></tr><tr><td>ThreadPoolExecutor.CallerRunsPolicy</td><td>由主线程负责调用任务的 run()方法从而绕过线程池直接执行</td></tr></tbody></table><p>当任务数小于等于核心线程数时，所有任务都由核心线程执行；当任务数大于核心线程数时，超过的任务将会在等待队列中等待；当等待队列满了后，线程池会根据指定的最大线程数创建临时线程执行任务；当任务数大于最大线程数+等待队列长度时，执行拒绝策略。</p><h3 id="_4-thread-类的常用构造器和方法" tabindex="-1"><a class="header-anchor" href="#_4-thread-类的常用构造器和方法"><span>4. Thread 类的常用构造器和方法</span></a></h3><table><thead><tr><th>构造器</th><th>参数说明</th></tr></thead><tbody><tr><td>public Thread(String name)</td><td>可以为当前线程指定名称</td></tr><tr><td>public Thread(Runnable target, String name)</td><td>封装 Runnable 对象成为线程对象，并指定线程名称</td></tr></tbody></table><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>public String getName()</td><td>获取当前线程的名称，线程名称默认是 Thread-索引</td></tr><tr><td>public void setName(String name)</td><td>为线程设置名称</td></tr><tr><td>public static Thread currentThread()</td><td>获取当前执行的线程对象</td></tr><tr><td>public static void sleep(long time)</td><td>让当前执行的线程休眠多少毫秒后，再继续执行</td></tr><tr><td>public final void join()</td><td>让调用当前这个方法的线程先执行完</td></tr></tbody></table><h3 id="_5-多线程的注意事项" tabindex="-1"><a class="header-anchor" href="#_5-多线程的注意事项"><span>5. 多线程的注意事项</span></a></h3><ol><li>启动线程应使用<code>start</code>方法而不是<code>run</code>方法，使用<code>run</code>方法相当于单线程执行任务。</li><li>主线程任务应当放在其他线程的启动之后。</li><li>线程池在使用完毕后应当使用<code>shutdown</code>方法关闭线程池。</li></ol><h3 id="_6-线程安全问题出现的原因-如何解决" tabindex="-1"><a class="header-anchor" href="#_6-线程安全问题出现的原因-如何解决"><span>6. 线程安全问题出现的原因，如何解决</span></a></h3><p>当存在多个线程同时访问并修改同一共享资源时，就会出现线程安全问题。可以通过线程同步的方式解决线程安全问题，线程同步是指让多个线程先后依次访问共享资源。实现线程同步的方式有：</p><ol><li>使用<code>synchronized</code>修饰符：Java 提供了 synchronized 关键字来实现简单的线程同步。你可以用它来修饰方法或代码块，确保同一时间只有一个线程可以访问被 synchronized 修饰的代码。</li><li>ReentrantLock：<code>java.util.concurrent.locks.ReentrantLock</code>是一个可重入的互斥锁，它提供了比 synchronized 更灵活的线程同步机制。使用 ReentrantLock 可以实现更复杂的同步需求，比如定时锁、可中断锁等。</li></ol><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span>locks<span class="token punctuation">.</span></span><span class="token class-name">ReentrantLock</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Example</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">ReentrantLock</span> lock <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ReentrantLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        lock<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment">// 这里是需要同步的代码块</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
            lock<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="3"><li>使用<code>volatile</code>修饰符：<code>volatile</code>关键字可以确保被修饰的变量对所有线程可见，并且禁止指令重排序优化，但是它并不能保证原子性，通常用于简单的状态标记。</li></ol><h3 id="_7-线程之间如何进行通信" tabindex="-1"><a class="header-anchor" href="#_7-线程之间如何进行通信"><span>7. 线程之间如何进行通信</span></a></h3><p>当多个线程共同操作共享的资源时，线程间通过某种方式互相告知自己的状态，以相互协调，并避免无效的资源争夺。线程通信的常用方法被定义在<code>Object</code>类中，如下所示：</p><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>public void wait()</td><td>让当前线程等待并释放锁资源，直至另一个线程使用 notify 和 notifyALL 唤醒</td></tr><tr><td>public void notify()</td><td>唤醒在对象监听器上等待的单个线程</td></tr><tr><td>public void notifyAll()</td><td>唤醒在对象监听器上等待的所有线程</td></tr></tbody></table><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">// 线程通信的常见模型--生产者消费者模型</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Table</span> table <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Table</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Thread</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Producer</span><span class="token punctuation">(</span>table<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;生产者1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Thread</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Producer</span><span class="token punctuation">(</span>table<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;生产者2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Thread</span> p3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Producer</span><span class="token punctuation">(</span>table<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;生产者3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Thread</span> c1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Consumer</span><span class="token punctuation">(</span>table<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;消费者1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Thread</span> c2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Consumer</span><span class="token punctuation">(</span>table<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;消费者2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        p1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        p2<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        p3<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        c1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        c2<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Table</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token comment">// 生产包子</span>
    <span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">produce</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;包子&quot;</span> <span class="token operator">+</span> <span class="token operator">++</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">&quot;生产了包子&quot;</span> <span class="token operator">+</span> count <span class="token operator">+</span> <span class="token string">&quot;,当前包子为&quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">notifyAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">notifyAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 消费包子</span>
    <span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">consume</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>list<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">&quot;消费了&quot;</span> <span class="token operator">+</span> list<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">notifyAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">notifyAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Producer</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Table</span> table<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">Producer</span><span class="token punctuation">(</span><span class="token class-name">Table</span> table<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>table <span class="token operator">=</span> table<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Table</span> <span class="token function">getTable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> table<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setTable</span><span class="token punctuation">(</span><span class="token class-name">Table</span> table<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>table <span class="token operator">=</span> table<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            table<span class="token punctuation">.</span><span class="token function">produce</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Consumer</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Table</span> table<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">Table</span> <span class="token function">getTable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> table<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setTable</span><span class="token punctuation">(</span><span class="token class-name">Table</span> table<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>table <span class="token operator">=</span> table<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Consumer</span><span class="token punctuation">(</span><span class="token class-name">Table</span> table<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>table <span class="token operator">=</span> table<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            table<span class="token punctuation">.</span><span class="token function">consume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_8-线程的生命周期" tabindex="-1"><a class="header-anchor" href="#_8-线程的生命周期"><span>8. 线程的生命周期</span></a></h3><p>线程的生命周期是指线程从创建到销毁的整个过程，线程在整个生命周期中有六种状态，这些状态以枚举项的形式存储在 Thread 类的 State 枚举中，分别是：NEW、RUNNABLE、BLOCKED、WAITTING、TIMED_WATTING 和 TERMINATED，如下是官方的文档注释：</p><ul><li>NEW: Thread state for a thread which has not yet started.</li><li>NEW: 还未启动的线程处于 NEW 状态。</li><li>RUNNABLE: Thread state for a runnable thread. A thread in the runnable state is executing in the Java virtual machine but it may be waiting for other resources from the operating system such as processor.</li><li>RUNNABLE: 一个正在运行的线程处于 RUNNABLE 状态。一个处于 RUNNABLE 状态的线程正在 Java 虚拟机中执行，但它可能在等待来自操作系统的其他资源，比如处理器。</li><li>BLOCKED: Thread state for a thread blocked waiting for a monitor lock. A thread in the blocked state is waiting for a monitor lock to enter a synchronized block/ method or reenter a synchronized block/ method after calling <code>Object.wait</code>.</li><li>BLOCKED: 一个正在等待获取一个监视器锁的线程处于 BLOCKED 状态。等待获取监视器锁是为了进入同步块/方法或在调用<code>Object.wait</code>后重新进入同步块/方法。</li><li>WAITTING: Thread state for a waiting thread. A thread is in the waiting state due to calling one of the following methods: <code>Object.wait</code> with no timeout; <code>Thread.join</code> with no timeout; <code>LockSupport.park</code>. A thread in the waiting state is waiting for another thread to perform a particular action. For example, a thread that has called <code>Object.wait()</code> on an object is waiting for another thread to call <code>Object.notify()</code> or <code>Object.notifyAll()</code> on that object. A thread that has called <code>Thread.join()</code> is waiting for a specified thread to terminate.</li><li>WAITTING: 一个正在等待的线程处于 WAITTING 状态。一个线程处于等待状态是因为调用了这些方法：没有设置超时时间的<code>Object.wait</code>；没有设置超时时间的<code>Thread.join</code>；<code>LockSupport.park</code>。一个线程处于等待状态是为了等待另一个线程完成某个任务。比如，一个调用了<code>Object.wait()</code>的线程是在等待另一个线程调用<code>Object.notify()</code>或者<code>Object.notifyAll()</code>唤醒它。一个调用了<code>Thread.join()</code>的线程是在等待一个特定的线程进入终止状态。</li><li>TIMED_WAITING: Thread state for a waiting thread with a specified waiting time. A thread is in the timed waiting state due to calling one of the following methods with a specified positive waiting time: <code>Thread.sleep</code>; <code>Object.wait</code> with timeout; <code>Thread.join</code> with timeout; <code>LockSupport.parkNanos</code>; <code>LockSupport.parkUntil</code>.</li><li>TIMED_WAITING: 一个正在等待且有指定等待时间的线程处于 TIMED_WAITING 状态。一个线程处于计时等待状态是因为调用了这些方法且指定了等待时间：<code>Thread.sleep</code>；有超时时间的<code>Object.wait</code>；有超时时间的<code>Thread.join</code>；<code>LockSupport.parkNanos</code>；<code>LockSupport. parkUntil</code>。</li><li>TERMINATED: Thread state for a terminated thread. The thread has completed execution.</li><li>TERMINATED: 一个终止了的线程处于TERMINATED状态。当线程处于TERMINATED状态时，表示该线程已经执行完毕。</li></ul><p>线程可以不同的状态之间相互切换，如下所示：</p><p>NEW -&gt; RUNNABLE : 调用start方法</p><p>RUNNABLE -&gt; BLOCKED : 进入同步块/同步方法时没能抢到锁</p><p>BLOCKED -&gt; RUNNABLE : 抢到锁</p><p>RUNNABLE -&gt; WAITTING : 调用Object.wait()或者Thread.join()</p><p>WAITTING -&gt; RUNNABLE : 调用Object.notify()或者Object.notifyAll()，同时抢到锁</p><p>WAITTING -&gt; BLOCKED : 调用Object.notify()或者Object.notifyAll()，但没有抢到锁</p><p>RUNNABLE -&gt; TIMED_WAITTING : 调用Thread.sleep()或者Object.wait()或者Thread.join()且设置了超时时间</p><p>TIMED_WAITTING -&gt; RUNNABLE : 达到超时时间且抢到锁/未到超时时间但调用了Object.notify()或者Object.notifyAll()且抢到锁</p><p>TIMED_WAITTING -&gt; BLOCKED : 达到超时时间但没抢到锁/未到超时时间但调用了Object.notify()或者Object.notifyAll()但没抢到锁</p><p>RUNNABLE -&gt; TERMINATED : run方法调用完毕后/调用stop方法（stop方法已过时）</p><h2 id="网络编程" tabindex="-1"><a class="header-anchor" href="#网络编程"><span>网络编程</span></a></h2><p>网络编程可以实现网络中不同设备之间的通信，<code>java.net.*</code>包提供了网络编程的解决方案。网络通信的常用架构有 CS 架构（客户端服务器）和 BS 架构（浏览器服务器），两种架构之间的区别在于，CS 架构的客户端需要程序员开发实现，BS 架构的浏览器不需要程序员开发。</p><h3 id="_1-java-net-datagramsocket、java-net-datagrampacket、java-net-inetaddress" tabindex="-1"><a class="header-anchor" href="#_1-java-net-datagramsocket、java-net-datagrampacket、java-net-inetaddress"><span>1. java.net.DatagramSocket、java.net.DatagramPacket、java.net.InetAddress</span></a></h3><p><code>java.net.DatagramSocket</code>类用于实现 UDP 通信，<code>java.net.DatagramPacket</code>类用于创建数据包，<code>java.net.InetAddress</code>类用于获取 IP 地址。</p><table><thead><tr><th>DatagramSocket 类构造器</th><th>参数说明</th></tr></thead><tbody><tr><td>public DatagramSocket()</td><td>无参构造器，常用于创建客户端，系统会为该客户端随机分配一个端口号</td></tr><tr><td>public DatagramSocket(int port)</td><td>常用于创建服务端，参数用于指定服务端的端口号</td></tr></tbody></table><table><thead><tr><th>DatagramSocket 类的常用方法</th><th>说明</th></tr></thead><tbody><tr><td>public void send(DatagramPacket dp)</td><td>发送数据包</td></tr><tr><td>public void receive(DatagramPacket dp)</td><td>接收数据包</td></tr></tbody></table><table><thead><tr><th>DatagramPacket 类构造器</th><th>参数说明</th></tr></thead><tbody><tr><td>public DatagramPacket(byte[] buf, int len)</td><td>常用于创建用于接收数据的数据包，参数一表示接收的数据，参数二表示接收的长度</td></tr><tr><td>public DatagramPacket(byte[] buf, int offset, int len, InetAddress address, int port)</td><td>常用于创建用于发送数据的数据包，参数二表示数据包的起始位置，参数四表示目标地址的 IP，参数五表示目标地址的端口号</td></tr></tbody></table><table><thead><tr><th>DatagramPacket 类的常用方法</th><th>说明</th><th>五</th></tr></thead><tbody><tr><td>public int getLength()</td><td>用于获取数据包的长度</td><td></td></tr></tbody></table><table><thead><tr><th>InetAddress 类的常用方法</th><th>说明</th></tr></thead><tbody><tr><td>public static InetAddress getLocalHost()</td><td>返回一个 IP 为 127.0.0.1 的 InetAddress 对象</td></tr><tr><td>public static InetAddress getByName(String host)</td><td>根据 IP 地址或者域名生成一个 InetAddress 对象</td></tr><tr><td>public String getHostName()</td><td>根据 InetAddress 对象获取主机名</td></tr><tr><td>public String getHostAddress()</td><td>根据 InetAddress 对象获取 IP 地址</td></tr><tr><td>public boolean isReachable(int timeout)</td><td>在指定时间内判断当前主机与目标主机是否可以连通</td></tr></tbody></table><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">DatagramPacket</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">DatagramSocket</span></span><span class="token punctuation">;</span>

<span class="token comment">// 创建服务端</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Server</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token comment">// 创建套接字</span>
    <span class="token class-name">DatagramSocket</span> socket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DatagramSocket</span><span class="token punctuation">(</span><span class="token number">8081</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 创建字节数组存储数据</span>
    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token comment">// 创建数据包接收来自客户端的数据</span>
    <span class="token class-name">DatagramPacket</span> dp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DatagramPacket</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span> buf<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 接收数据</span>
    socket<span class="token punctuation">.</span><span class="token function">receive</span><span class="token punctuation">(</span>dp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> dp<span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 关闭套接字</span>
    socket<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">DatagramPacket</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">DatagramSocket</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">InetAddress</span></span><span class="token punctuation">;</span>

<span class="token comment">// 创建客户端</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token comment">// 创建套接字，客户端随机生成端口号</span>
    <span class="token class-name">DatagramSocket</span> socket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DatagramSocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 生成要发送的数据的字节数组</span>
    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buf <span class="token operator">=</span> <span class="token string">&quot;hello world&quot;</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 创建数据包用于向当前主机的8081端口发送数据</span>
    <span class="token class-name">DatagramPacket</span> dp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DatagramPacket</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> buf<span class="token punctuation">.</span>length<span class="token punctuation">,</span> <span class="token class-name">InetAddress</span><span class="token punctuation">.</span><span class="token function">getLocalHost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">8081</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 发送数据</span>
    socket<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>dp<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 关闭套接字</span>
    socket<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-java-net-socket-和-java-net-serversocket" tabindex="-1"><a class="header-anchor" href="#_2-java-net-socket-和-java-net-serversocket"><span>2. java.net.Socket 和 java.net.ServerSocket</span></a></h3><p><code>java.net.Socket</code>类用于实现 TCP 通信的客户端，<code>java.net.ServerSocket</code>类用于实现 TCP 通信的服务端。</p><table><thead><tr><th>Socket 类构造器</th><th>参数说明</th></tr></thead><tbody><tr><td>public Socket(String host, int port)</td><td>根据指定的服务器 IP 和端口号请求与服务器建立连接，连接成功则返回客户端的套接字</td></tr></tbody></table><table><thead><tr><th>Socket 类的常用方法</th><th>说明</th></tr></thead><tbody><tr><td>public OutStream getOutStream()</td><td>获取套接字对象的输出流对象</td></tr><tr><td>public IntStream getInputStream()</td><td>获取套接字对象的输入流对象</td></tr></tbody></table><table><thead><tr><th>ServerSocket 类构造器</th><th>参数说明</th></tr></thead><tbody><tr><td>public ServerSocket(int port)</td><td>根据端口创建服务端</td></tr></tbody></table><table><thead><tr><th>ServerSocket 类的常用方法</th><th>说明</th></tr></thead><tbody><tr><td>public Socket accept()</td><td>阻塞等待客户端的连接请求，一旦与某个客户端连接成功，返回该客户端的套接字对象</td></tr></tbody></table><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">ServerSocket</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">Socket</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">SocketAddress</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">ArrayBlockingQueue</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">Executors</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">ThreadPoolExecutor</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">TimeUnit</span></span><span class="token punctuation">;</span>

<span class="token comment">// 创建服务端，可以同时与多个客户端进行连接</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Server</span> <span class="token punctuation">{</span>
    <span class="token comment">// 用于存储所有客户端套接字</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Socket</span><span class="token punctuation">&gt;</span></span> sockets <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">// 创建服务端套接字</span>
        <span class="token class-name">ServerSocket</span> serverSocket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServerSocket</span><span class="token punctuation">(</span><span class="token number">8101</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 创建线程池</span>
        <span class="token class-name">ThreadPoolExecutor</span> pool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ThreadPoolExecutor</span><span class="token punctuation">(</span>
                <span class="token number">20</span><span class="token punctuation">,</span>
                <span class="token number">200</span><span class="token punctuation">,</span>
                <span class="token number">60</span><span class="token punctuation">,</span>
                <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span><span class="token constant">SECONDS</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">ArrayBlockingQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">defaultThreadFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">ThreadPoolExecutor<span class="token punctuation">.</span>AbortPolicy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 获取客户端的套接字</span>
            <span class="token class-name">Socket</span> socket <span class="token operator">=</span> serverSocket<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 保存这些套接字</span>
            sockets<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>socket<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 并发操作这些客户端线程</span>
            pool<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">try</span> <span class="token punctuation">{</span>
                    <span class="token comment">// 获取客户端的IP地址</span>
                    <span class="token class-name">SocketAddress</span> rsa <span class="token operator">=</span> socket<span class="token punctuation">.</span><span class="token function">getRemoteSocketAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment">// 获取客户端的输入流</span>
                    <span class="token class-name">InputStream</span> is <span class="token operator">=</span> socket<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment">// 将输入流包装为数据输入流，方便读写</span>
                    <span class="token class-name">DataInputStream</span> dis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataInputStream</span><span class="token punctuation">(</span>is<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment">// 循环读取输入流中的内容</span>
                    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token class-name">String</span> line <span class="token operator">=</span> dis<span class="token punctuation">.</span><span class="token function">readUTF</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span> <span class="token punctuation">(</span>line<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;quit&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>rsa <span class="token operator">+</span> <span class="token string">&quot;和服务器断开连接了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token keyword">break</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;消息来自&quot;</span> <span class="token operator">+</span> rsa <span class="token operator">+</span> <span class="token string">&quot;，消息为：&quot;</span> <span class="token operator">+</span> line<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                        <span class="token comment">// 发送给其他客户端</span>
                        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Socket</span> s <span class="token operator">:</span> <span class="token class-name">Server</span><span class="token punctuation">.</span>sockets<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token comment">// 自己不应该给自己发送消息</span>
                            <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">getRemoteSocketAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>rsa<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                <span class="token keyword">continue</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                            <span class="token comment">// 获取其他客户端的输出流</span>
                            <span class="token class-name">OutputStream</span> os <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token comment">// 包装为数据输出流</span>
                            <span class="token class-name">DataOutputStream</span> dos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataOutputStream</span><span class="token punctuation">(</span>os<span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token comment">// 向其他客户端写入发送的客户端的地址</span>
                            dos<span class="token punctuation">.</span><span class="token function">writeUTF</span><span class="token punctuation">(</span>rsa<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token comment">// 向其他客户端写入接收到的数据</span>
                            dos<span class="token punctuation">.</span><span class="token function">writeUTF</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                    dis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    socket<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment">// 删除断开连接的socket</span>
                    <span class="token class-name">Server</span><span class="token punctuation">.</span>sockets<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>socket<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">InetAddress</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">Socket</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">SocketException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Scanner</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">ArrayBlockingQueue</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">Executors</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">ThreadPoolExecutor</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">TimeUnit</span></span><span class="token punctuation">;</span>

<span class="token comment">// 创建客户端</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">// 创建套接字请求连接本地的8081端口的服务器</span>
        <span class="token class-name">Socket</span> socket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Socket</span><span class="token punctuation">(</span><span class="token class-name">InetAddress</span><span class="token punctuation">.</span><span class="token function">getLocalHost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">8101</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 创建扫描器</span>
        <span class="token class-name">Scanner</span> sc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 获取当前客户端的输出流</span>
        <span class="token class-name">OutputStream</span> os <span class="token operator">=</span> socket<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 包装为数据流</span>
        <span class="token class-name">DataOutputStream</span> dos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataOutputStream</span><span class="token punctuation">(</span>os<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 创建线程池接收服务端发送的来自其他客户端的数据</span>
        <span class="token class-name">ThreadPoolExecutor</span> pool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ThreadPoolExecutor</span><span class="token punctuation">(</span>
                <span class="token number">20</span><span class="token punctuation">,</span>
                <span class="token number">200</span><span class="token punctuation">,</span>
                <span class="token number">60</span><span class="token punctuation">,</span>
                <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span><span class="token constant">SECONDS</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">ArrayBlockingQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">defaultThreadFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">ThreadPoolExecutor<span class="token punctuation">.</span>AbortPolicy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
        pool<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token comment">// 获取当前客户端的输入流</span>
                <span class="token class-name">InputStream</span> is <span class="token operator">=</span> socket<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// 包装为数据流</span>
                <span class="token class-name">DataInputStream</span> dis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataInputStream</span><span class="token punctuation">(</span>is<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token comment">// 读取来源</span>
                    <span class="token class-name">String</span> from <span class="token operator">=</span> dis<span class="token punctuation">.</span><span class="token function">readUTF</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment">// 读取信息</span>
                    <span class="token class-name">String</span> line <span class="token operator">=</span> dis<span class="token punctuation">.</span><span class="token function">readUTF</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;消息来自&quot;</span> <span class="token operator">+</span> from <span class="token operator">+</span> <span class="token string">&quot;，消息为：&quot;</span> <span class="token operator">+</span> line<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SocketException</span> se<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;与服务器断开连接了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 接收用户输入并发送给服务端</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">String</span> line <span class="token operator">=</span> sc<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 将用户输入写出</span>
            dos<span class="token punctuation">.</span><span class="token function">writeUTF</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 当用户输入quit时，关闭连接</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>line<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;quit&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 关闭流，关闭连接</span>
        dos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        socket<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        pool<span class="token punctuation">.</span><span class="token function">shutdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="junit" tabindex="-1"><a class="header-anchor" href="#junit"><span>Junit</span></a></h2><p><a href="https://github.com/junit-team/junit4/wiki/Download-and-Install" target="_blank" rel="noopener noreferrer">Junit4 下载地址<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="_1-junit4-的常用注解" tabindex="-1"><a class="header-anchor" href="#_1-junit4-的常用注解"><span>1. Junit4 的常用注解</span></a></h3><table><thead><tr><th>注解</th><th>说明</th></tr></thead><tbody><tr><td>@Test</td><td>测试方法</td></tr><tr><td>@Before</td><td>用来修饰一个实例方法，该方法会在每一个测试方法执行之前执行一次</td></tr><tr><td>@After</td><td>用来修饰一个实例方法，该方法会在每一个测试方法执行之后执行一次</td></tr><tr><td>@BeforeClass</td><td>用来修饰一个静态方法，该方法会在所有测试方法之前只执行一次</td></tr><tr><td>@AfterClass</td><td>用来修饰一个静态方法，该方法会在所有测试方法之后只执行一次</td></tr></tbody></table><h3 id="_2-junit5-的常用注解" tabindex="-1"><a class="header-anchor" href="#_2-junit5-的常用注解"><span>2. Junit5 的常用注解</span></a></h3><table><thead><tr><th>注解</th><th>说明</th></tr></thead><tbody><tr><td>@Test</td><td>测试方法</td></tr><tr><td>@BeforeEach</td><td>用来修饰一个实例方法，该方法会在每一个测试方法执行之前执行一次</td></tr><tr><td>@AfterEach</td><td>用来修饰一个实例方法，该方法会在每一个测试方法执行之后执行一次</td></tr><tr><td>@BeforeAll</td><td>用来修饰一个静态方法，该方法会在所有测试方法之前只执行一次</td></tr><tr><td>@AfterAll</td><td>用来修饰一个静态方法，该方法会在所有测试方法之后只执行一次</td></tr></tbody></table><h3 id="_3-断言-assert" tabindex="-1"><a class="header-anchor" href="#_3-断言-assert"><span>3. 断言（Assert）</span></a></h3><table><thead><tr><th>Assert 类的常用方法</th><th>说明</th></tr></thead><tbody><tr><td>public static void assertEquals(String message, Object expected, Object actual)</td><td>参数一为提示信息，参数二为断言的预期值，参数二为断言的实际值</td></tr><tr><td>public static void assertTrue(String message, boolean condition)</td><td>参数一位提示信息，参数二为预期的真假</td></tr></tbody></table><h2 id="反射-reflection" tabindex="-1"><a class="header-anchor" href="#反射-reflection"><span>反射（Reflection）</span></a></h2><p>反射是指在运行时动态地获取类的信息以及操作类的属性、方法和构造器的能力。</p><h3 id="_1-获取-class-对象" tabindex="-1"><a class="header-anchor" href="#_1-获取-class-对象"><span>1. 获取 Class 对象</span></a></h3><p>Java 反射的核心是<code>java.lang.Class</code>，每个类都会有一个对应的<code>Class</code>对象。获取<code>Class</code>对象有三种方法：</p><ol><li>类名.class</li><li>对象名.getClass()</li><li>Class.forName(包名.类名)</li></ol><h3 id="_2-获取类的构造器" tabindex="-1"><a class="header-anchor" href="#_2-获取类的构造器"><span>2. 获取类的构造器</span></a></h3><table><thead><tr><th>Class 类用于获取构造器的方法</th><th>说明</th></tr></thead><tbody><tr><td>public Constructor&amp;l t?&gt;[] getConstructors​()</td><td>返回由所有 public 构造器组成的数组</td></tr><tr><td>public Constructor&lt;?&gt;[] getDeclaredConstructors​()</td><td>返回由所有构造器组成的数组</td></tr><tr><td>public Constructor&lt;T&gt; getConstructor​(Class&lt;?&gt;... parameterTypes)</td><td>参数用于指定构造器的参数列表，返回对应的 public 构造器</td></tr><tr><td>public Constructor&lt;T&gt; getDeclaredConstructor​(Class&lt;?&gt;... parameterTypes)</td><td>参数用于指定构造器的参数列表，返回对应的构造器</td></tr></tbody></table><table><thead><tr><th>Constructor 类的常用方法</th><th>说明</th></tr></thead><tbody><tr><td>public T newInstance​(Object... initargs)</td><td>创建对象，参数列表为构造器所需的参数</td></tr><tr><td>public void setAccessible(boolean flag)</td><td>当参数为 true 时，强制非 public 的构造器也可以被访问</td></tr></tbody></table><h3 id="_3-获取类的成员方法" tabindex="-1"><a class="header-anchor" href="#_3-获取类的成员方法"><span>3. 获取类的成员方法</span></a></h3><table><thead><tr><th>Class 类用于获取成员方法的方法</th><th>说明</th></tr></thead><tbody><tr><td>public Method[] getMethods​()</td><td>返回由所有 public 成员方法组成的数组</td></tr><tr><td>public Method[] getDeclaredMethods​()</td><td>返回由所有成员方法组成的数组</td></tr><tr><td>public Method getMethod​(String name, Class&lt;?&gt;... parameterTypes)</td><td>参数一用于指定成员方法的方法名，参数二用于传入成员方法的参数列表，返回对应的 public 成员方法</td></tr><tr><td>public Method getDeclaredMethod​(String name, Class&lt;?&gt;... parameterTypes)</td><td>参数一用于指定成员方法的方法名，参数二用于传入成员方法的参数列表，返回对应的成员方法</td></tr></tbody></table><table><thead><tr><th>Method 类的常用方法</th><th>说明</th></tr></thead><tbody><tr><td>public Object invoke​(Object obj, Object... args)</td><td>调用方法，参数一为调用该方法的实例，参数二为方法的参数列表</td></tr><tr><td>public void setAccessible(boolean flag)</td><td>当参数为 true 时，强制非 public 的成员方法也可以被访问</td></tr></tbody></table><h3 id="_4-获取类的成员变量" tabindex="-1"><a class="header-anchor" href="#_4-获取类的成员变量"><span>4. 获取类的成员变量</span></a></h3><table><thead><tr><th>Class 类用于获取成员变量的方法</th><th>说明</th></tr></thead><tbody><tr><td>public Field[] getFields​()</td><td>返回由所有 public 成员变量组成的数组</td></tr><tr><td>public Field[] getDeclaredFields​()</td><td>返回由所有成员变量组成的数组</td></tr><tr><td>public Field getField​(String name)</td><td>参数一用于指定成员变量的变量名，返回对应的 public 成员变量</td></tr><tr><td>public Field getDeclaredField​(String name)</td><td>参数一用于指定成员变量的变量名，返回对应的成员变量</td></tr></tbody></table><table><thead><tr><th>Field 类的常用方法</th><th>说明</th></tr></thead><tbody><tr><td>public void set​(Object obj, Object value)</td><td>为成员变量赋值，参数一为实例，参数二为成员变量的值</td></tr><tr><td>public Object get​(Object obj)</td><td>取出成员变量的值，参数一为实例</td></tr><tr><td>public void setAccessible(boolean flag)</td><td>当参数为 true 时，强制非 public 的成员变量也可以被访问</td></tr></tbody></table><h2 id="注解-annotation" tabindex="-1"><a class="header-anchor" href="#注解-annotation"><span>注解（Annotation）</span></a></h2><h3 id="_1-什么是注解" tabindex="-1"><a class="header-anchor" href="#_1-什么是注解"><span>1. 什么是注解</span></a></h3><p>注解提供了对代码进行标记和解释的方式，类、方法、变量等都可以使用注解进行标记。在 Java 中，使用如下格式定义并使用一个注解：</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">MyInterface</span> <span class="token punctuation">{</span>
  <span class="token comment">// attributeName为属性名，defaultValue为默认值</span>
  <span class="token comment">// 属性的类型只能是基本数据类型、String、Enum、Annotation、Class，以及前面这些类型的一维数组</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">attributeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;defaultValue&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token comment">// 如果属性名为value时，可以简写为@MyInterface(&quot;属性值&quot;)</span>
  <span class="token annotation punctuation">@MyInterface</span><span class="token punctuation">(</span>attributeName <span class="token operator">=</span> <span class="token string">&quot;属性值&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-什么是元注解" tabindex="-1"><a class="header-anchor" href="#_2-什么是元注解"><span>2. 什么是元注解</span></a></h3><p>元注解是指标记注解的注解，元注解有两个，分别是<code>@Target</code>和<code>@Retention</code>。其中<code>@Target</code>用于指定注解可以应用的目标，取值为一个 ElementType 枚举数组（ElementType.CONSTRUCTOR、ElementType.FIELD、ElementType.METHOD、ElementType.PARAMETER、ElementType.LOCAL_VARIABLE、ElementType.TYPE），<code>@Retention</code>用于指定注解的保留策略（RetentionPolicy.SOURCE 表示源码时保留，RetentionPolicy.CLASS 为默认值，表示编译时保留，RetentionPolicy.RUNTIME 表示运行时保留）</p><h3 id="_3-如何解析注解" tabindex="-1"><a class="header-anchor" href="#_3-如何解析注解"><span>3. 如何解析注解</span></a></h3><ol><li>先根据注解标记的位置判断使用注解的成分对象是哪种类型（TYPE、METHOD、FIELD 等）</li><li>获取对应的成分对象</li><li>使用<code>getDeclaredAnnotation(Class&lt;T&gt; annotationClass)</code>或<code>getDeclaredAnnotations()</code>获取指定的注解或者所有的注解</li></ol><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Method</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Annotation</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">NoSuchMethodException</span> <span class="token punctuation">{</span>
        <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@MyAnno</span><span class="token punctuation">(</span><span class="token string">&quot;my anno&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">NoSuchMethodException</span> <span class="token punctuation">{</span>
        <span class="token comment">// 获取类对象</span>
        <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Annotation</span><span class="token punctuation">&gt;</span></span> annotation <span class="token operator">=</span> <span class="token class-name">Annotation</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
        <span class="token comment">// 获取注解所在的方法对象</span>
        <span class="token class-name">Method</span> sayHello <span class="token operator">=</span> annotation<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token string">&quot;sayHello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// isAnnotationPresent用于判断方法对象上是否存在对应的注解</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sayHello<span class="token punctuation">.</span><span class="token function">isAnnotationPresent</span><span class="token punctuation">(</span><span class="token class-name">MyAnno</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// getDeclaredAnnotation用于获取方法对象上指定的注解</span>
        <span class="token class-name">MyAnno</span> anno <span class="token operator">=</span> sayHello<span class="token punctuation">.</span><span class="token function">getDeclaredAnnotation</span><span class="token punctuation">(</span><span class="token class-name">MyAnno</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>anno<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// my anno</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>anno<span class="token punctuation">.</span><span class="token function">myNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 未指定，使用默认值1</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ElementType</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Retention</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RetentionPolicy</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Target</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">METHOD</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span><span class="token constant">RUNTIME</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">MyAnno</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;hello world&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token function">myNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="动态代理" tabindex="-1"><a class="header-anchor" href="#动态代理"><span>动态代理</span></a></h2><p>动态代理是一种在运行时动态创建代理类和对象的机制，它允许你在不修改源代码的情况下为已有的类添加额外的功能。</p><p>动态代理通常涉及两个主要类：<code>Proxy</code>和<code>InvocationHandler</code>。<code>Proxy</code>类是 Java 提供的创建代理对象的工具类，而<code>InvocationHandler</code>接口则是用来实现在代理对象方法被调用时的逻辑。</p><p>动态代理的实现步骤如下：</p><ol><li>创建<code>InvocationHandler</code>实现类：编写一个实现<code>InvocationHandler</code>接口的类，该类必须实现<code>invoke</code>方法，用于处理代理对象方法的调用逻辑。</li><li>获取代理对象：通过<code>Proxy</code>类的<code>newProxyInstance</code>方法来获取代理对象，该方法接受一个类加载器、一组接口（一个 Class 接口数组，代理对象和被代理对象都需要实现这些接口）和一个<code>InvocationHandler</code>对象作为参数。</li><li>使用代理对象：使用代理对象来调用方法，代理对象会将方法调用转发给<code>InvocationHandler</code>实现类中的<code>invoke</code>方法，从而执行特定的逻辑。</li></ol><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Method</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Proxy</span></span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">Able</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">sing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">People</span> <span class="token keyword">implements</span> <span class="token class-name">Able</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sing</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;people can sing&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;people can say &quot;</span> <span class="token operator">+</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> str<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">People</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">People</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// newProxyInstance的返回值是Object类型，强制转换为接口，方便后续调用代理的方法</span>
        <span class="token class-name">Able</span> proxyPeople <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Able</span><span class="token punctuation">)</span><span class="token class-name">Proxy</span><span class="token punctuation">.</span><span class="token function">newProxyInstance</span><span class="token punctuation">(</span>
                <span class="token comment">// 只要能获取到类加载器就行，用什么Class获取都行，获取到的类加载器都是相同的</span>
                p<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token comment">// 接口数组，被代理对象实现的接口，可以是多个接口，但是强制类型转换时不方便，需要进行类型判断再转换</span>
                <span class="token keyword">new</span> <span class="token class-name">Class</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span><span class="token class-name">Able</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">(</span>proxy<span class="token punctuation">,</span> method<span class="token punctuation">,</span> arg<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
                    <span class="token comment">// 功能增强的体现，直接调用被代理对象的方法不会执行这行代码，而调用代理对象的任何方法都会执行这行代码</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment">// 调用被代理对象上的方法</span>
                    <span class="token class-name">Object</span> res <span class="token operator">=</span> method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> arg<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">return</span> res<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
        proxyPeople<span class="token punctuation">.</span><span class="token function">sing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hello world people can sing</span>
        <span class="token class-name">String</span> str <span class="token operator">=</span> proxyPeople<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hello world people can say hello world</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// hello world</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><!----><!----></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-DHHNIcXM.js" defer></script>
  </body>
</html>
